define(["react","lodash","@grafana/data","@grafana/ui","@emotion/css","@grafana/runtime","moment","app/core/utils/datemath","app/plugins/sdk","react-dom"],(function(e,t,n,r,a,o,i,s,l,c){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=77)}({0:function(t,n){t.exports=e},1:function(e,n){e.exports=t},10:function(e,t){e.exports=o},11:function(e,t){e.exports=i},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(1),a=n.n(r),o=n(11),i=n.n(o),s=n(4);function l(e,t){try{var n=s.q(t);return Date.now()-1e3*e.timestamp<n}catch(e){return!1}}function c(e,t){var n=t||"DD MMM YYYY HH:mm:ss";return i.a.unix(e).format(n)}var u=function(e){return a.a.find("ABCDEFGHIJKLMNOPQRSTUVWXYZ",(function(t){return a.a.every(e,(function(e){return e.refId!==t}))}))}},14:function(e,t){e.exports=s},18:function(e,t){e.exports=l},19:function(e,t){e.exports=c},2:function(e,t,n){e.exports=n(75)()},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(1),a=n.n(r),o=n(13),i=n(8),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=8;function c(e){var t;if(function(e){return e.targets&&1===e.targets.length&&function(e){var t,n,r,a;return!((null===(t=e.group)||void 0===t?void 0:t.filter)||(null===(n=e.host)||void 0===n?void 0:n.filter)||(null===(r=e.application)||void 0===r?void 0:r.filter)||(null===(a=e.trigger)||void 0===a?void 0:a.filter)||e.queryType)}(e.targets[0])}(e))return e;if(function(e){return!e.datasource&&!e.datasources&&!e.triggers&&(t=e.targets,!t||a.a.isArray(t)&&(0===t.length||1===t.length&&a.a.isEmpty(t[0])));var t}(e))return delete e.targets,e;var n=function(e){return e.schemaVersion||1}(e);if(n<2&&(e.datasources=[e.datasource],e.targets={},e.targets[e.datasources[0]]=e.triggers,delete e.triggers,delete e.datasource),n<3&&(delete e.lastChangeField,delete e.infoField,delete e.scroll,delete e.hideHostsInMaintenance),n<5&&e.targets&&!a.a.isEmpty(e.targets)&&a.a.each(e.targets,(function(e){var t;a.a.defaultsDeep(e,{group:{filter:""},host:{filter:""},application:{filter:""},trigger:{filter:""},tags:{filter:""},proxy:{filter:""},refId:Object(o.b)(t)})})),n<6&&e.showEvents&&"1"===e.showEvents.value&&(e.showEvents.value=1),n<7){var r=[];for(var i in e.targets){d(g=e.targets[i])||f(g,i)||r.push(s(s({},g),{datasource:i}))}for(var l=0,c=r;l<c.length;l++){(g=c[l]).refId||(g.refId=Object(o.b)(r))}e.targets=r,delete e.datasources}if(n<8){1===e.targets.length?e.targets[0].datasource&&(e.datasource=e.targets[0].datasource,delete e.targets[0].datasource):e.targets.length>1&&(e.datasource="-- Mixed --");for(var m=0,h=e.targets;m<h.length;m++){var g;(g=h[m]).queryType=5,g.showProblems=p(e),g.options=u(e),a.a.defaults(g.options,{hostsInMaintenance:!0}),a.a.defaults(g,{tags:{filter:""}})}e.sortProblems="priority"===(null===(t=e.sortTriggersBy)||void 0===t?void 0:t.value)?"priority":"lastchange",delete e.showEvents,delete e.showTriggers,delete e.hostsInMaintenance,delete e.sortTriggersBy}return e}function u(e){var t,n=2;"acknowledged"===e.showTriggers?n=1:"unacknowledged"===e.showTriggers&&(n=0);var r=1001;return e.limit&&100!==e.limit&&(r=e.limit),{hostsInMaintenance:e.hostsInMaintenance,sortProblems:"priority"===(null===(t=e.sortTriggersBy)||void 0===t?void 0:t.value)?"priority":"default",minSeverity:0,acknowledged:n,limit:r}}function p(e){var t,n,r,a;return 1===(null===(t=e.showEvents)||void 0===t?void 0:t.value)?i.a.Problems:0===(null===(n=e.showEvents)||void 0===n?void 0:n.value)||(null===(a=null===(r=e.showEvents)||void 0===r?void 0:r.value)||void 0===a?void 0:a.length)>1?i.a.History:i.a.Problems}function d(e){return!e||!(e.group&&e.host&&e.application&&e.trigger)}function f(e,t){return e&&"A"===e.refId&&"0"===t}},3:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"r",(function(){return d})),n.d(t,"q",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"c",(function(){return E}));var r="alexanderzobnin-zabbix-triggers-panel",a=0,o=1,i="0",s="1",l="2",c="3",u="4",p="5",d=0,f=1,m=2,h=4,g=8,v=[{val:0,text:"Not classified"},{val:1,text:"Information"},{val:2,text:"Warning"},{val:3,text:"Average"},{val:4,text:"High"},{val:5,text:"Disaster"}],y=3600,b="range_series",E=1001},4:function(e,t,n){"use strict";n.d(t,"x",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"v",(function(){return h})),n.d(t,"s",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return b})),n.d(t,"i",(function(){return E})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return x})),n.d(t,"r",(function(){return P})),n.d(t,"q",(function(){return C})),n.d(t,"u",(function(){return O})),n.d(t,"h",(function(){return k})),n.d(t,"w",(function(){return S})),n.d(t,"b",(function(){return N})),n.d(t,"k",(function(){return T})),n.d(t,"t",(function(){return j})),n.d(t,"o",(function(){return z})),n.d(t,"p",(function(){return _})),n.d(t,"d",(function(){return R})),n.d(t,"j",(function(){return F})),n.d(t,"l",(function(){return A}));var r=n(1),a=n.n(r),o=n(11),i=n.n(o),s=n(3),l=n(8),c=n(5),u=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g;function p(e,t){for(var n,r,o,i,s,l=t.substring(t.indexOf("[")+1,t.lastIndexOf("]")),c=(n=l,r=[],o=!1,i=!1,s="",a.a.forEach(n,(function(e){'"'===e&&i?s+=e:'"'===e&&o?o=!1:'"'!==e||o?"["!==e||o?"]"!==e||o?","!==e||o||i?s+=e:(r.push(s),s=""):i=!1:i=!0:o=!0})),r.push(s),r),u=c.length;u>=1;u--)e=e.replace("$"+u,c[u-1]);return e}function d(e){return a.a.forEach(e,(function(e){return e.item=e.name,e.name=p(e.item,e.key_),e})),e}var f=/{\$[A-Z0-9_\.]+}/g;function m(e){return f.test(e)}function h(e,t,n){var r=n?e.url:e.name,o=r.match(f);return a.a.forEach(o,(function(o){var i=a.a.filter(t,(function(t){if(t.hostid){if(n){var r=!1;return a.a.forEach(e.hosts,(function(e){e.hostid===t.hostid&&(r=!0)})),r}return t.hostid===e.hostid}return!0})),s=a.a.find(i,{macro:o});if(s&&s.value){var l=s.value,c=new RegExp(function(e){return e=e.replace(/\$/,"\\$")}(o));r=r.replace(c,l)}})),r}function g(e){var t,n=[];a.a.each(function(e){var t;if(function(e){return/^\{.+\}$/.test(e)}(e)){var n=e.match(/\{[^\{\}]*\}|\{\/.*\/\}/g);t=a.a.map(n,(function(e){return a.a.trim(e,"{}")}))}else t=e.split(".");return t}(e),(function(e){"*"===e&&(e="/.*/"),n.push(e)}));var r=a.a.zipObject(["group","host","app","item"],n);switch(4===n.length&&"/.*/"===r.app&&(r.app=""),n.length){case 1:t=l.b.Group;break;case 2:t=l.b.Host;break;case 3:t=l.b.Application;break;case 4:t=l.b.Item}return{queryType:t,group:r.group||"",host:r.host||"",application:r.app||"",item:r.item||""}}var v=/^\/(.*)\/([gmi]*)$/m;function y(e){return v.test(e)}function b(e,t){if(/^\$\w+/.test(e)){var n=a.a.map(t,(function(e){return"$"+e.name}));return a.a.includes(n,e)}return!1}function E(e){var t=e.to.diff(e.from),n=Math.round(t/1e3),r=c.rangeUtil.secondsToHms(t/1e3);return{__range_ms:{text:t,value:t},__range_s:{text:n,value:n},__range:{text:r,value:r},__range_series:{text:s.k,value:s.k}}}function w(e){var t=e.match(v),n=t[1],r=""!==t[2]?t[2]:void 0;return new RegExp(n,r)}function x(e){return e.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&")}function P(e){var t=function(e){var t=/(^[\d]+)(y|M|w|d|h|m|s)?/g.exec(e);if(!t||!e||t.length>2&&!t[2])return"";return t[1]+(t.length>2?t[2]:"s")}(e);return t?C(t):0}function C(e){var t=/(^[\d]+)(y|M|w|d|h|m|s)/g.exec(e);return i.a.duration(Number(t[1]),t[2]).valueOf()}function O(e){var t=/^([\+\-]*)([\d]+)(y|M|w|d|h|m|s)/g.exec(e);return"+"===t[1]?0-i.a.duration(Number(t[2]),t[3]).valueOf():i.a.duration(Number(t[2]),t[3]).valueOf()}function k(e){if(e.length){var t="<br><br>Acknowledges:<br><table><tr><td><b>Time</b></td><td><b>User</b></td><td><b>Comments</b></td></tr>";return a.a.each(a.a.map(e,(function(e){return"<tr><td><i>"+i.a.unix(e.clock).format("DD MMM YYYY HH:mm:ss")+"</i></td><td>"+e.alias+" ("+e.name+" "+e.surname+")</td><td>"+e.message+"</td></tr>"})),(function(e){t=t.concat(e)})),t=t.concat("</table>")}return""}function S(e){return function(t){for(var n=0;n<e.length;n++)t=e[n].call(this,t);return t}}function N(e){return e.replace(/\s+/g," ").trim()}function T(e){return!isNaN(parseFloat(e))&&isFinite(e)}function j(e){if(!e)return[];var t=a.a.map(e.split(","),(function(e){return e.trim()}));return t=a.a.map(t,(function(e){var t=e.split(":");return{tag:t[0].trim(),value:t[1].trim()}}))}function z(e){return e.value?e.tag+": "+e.value:e.tag}function _(e){return e||[]}var D={"%":"percent",b:"decbits",bps:"bps",B:"bytes",Bps:"binBps",uptime:"dtdhms",qps:"qps",iops:"iops",Hz:"hertz",V:"volt",C:"celsius",RPM:"rotrpm",dBm:"dBm"},M=function(){for(var e={},t=0,n=Object(c.getValueFormats)();t<n.length;t++)for(var r=0,a=n[t].submenu;r<a.length;r++){var o=a[r].value;e[o]=o}return e}();function R(e){var t=D[e];return t||(t=M[e]),t}function F(e,t){var n=e.valuemapid,r=null==t?void 0:t.find((function(e){return e.valuemapid===n}));return r?r.mappings.map((function(e,t){return{type:c.MappingType.ValueToText,options:{value:e.value,text:e.newvalue}}})):null}function A(e){return e.fields.length&&e.fields[0].type===c.FieldType.other&&"problems"===e.fields[0].config.custom.type}},46:function(e,t,n){"use strict";var r=function(){};e.exports=r},47:function(e,t){var n="undefined"!=typeof Element,r="function"==typeof Map,a="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var s,l,c,u;if(Array.isArray(t)){if((s=t.length)!=i.length)return!1;for(l=s;0!=l--;)if(!e(t[l],i[l]))return!1;return!0}if(r&&t instanceof Map&&i instanceof Map){if(t.size!==i.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!i.has(l.value[0]))return!1;for(u=t.entries();!(l=u.next()).done;)if(!e(l.value[1],i.get(l.value[0])))return!1;return!0}if(a&&t instanceof Set&&i instanceof Set){if(t.size!==i.size)return!1;for(u=t.entries();!(l=u.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(i)){if((s=t.length)!=i.length)return!1;for(l=s;0!=l--;)if(t[l]!==i[l])return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(i,c[l]))return!1;if(n&&t instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!t.$$typeof)&&!e(t[c[l]],i[c[l]]))return!1;return!0}return t!=t&&i!=i}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5:function(e,t){e.exports=n},6:function(e,t){e.exports=r},7:function(e,t){e.exports=a},75:function(e,t,n){"use strict";var r=n(76);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},76:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},77:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),i=n.n(o),s=n(1),l=n.n(s),c=n(10),u=n(5),p=n(14),d=n(18);var f=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.editor=this,this.panelCtrl=t.ctrl,this.panel=this.panelCtrl.panel,this.layouts=[{text:"Table",value:"table"},{text:"List",value:"list"}],this.fontSizes=["80%","90%","100%","110%","120%","130%","150%","160%","180%","200%","220%","250%"],this.ackFilters=["all triggers","unacknowledged","acknowledged"],this.sortingOptions=[{text:"Default",value:"default"},{text:"Last change",value:"lastchange"},{text:"Severity",value:"priority"}],this.showEventsFields=[{text:"All",value:[0,1]},{text:"OK",value:[0]},{text:"Problems",value:1}]};function m(){return{restrict:"E",scope:!0,templateUrl:"public/plugins/alexanderzobnin-zabbix-app/panel-triggers/partials/options_tab.html",controller:f}}f.$inject=["$scope"];var h=n(20),g=n(9),v=n.n(g),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function b(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var E={get:function(e,t,n){if(!t)return e;var r=x(t),a=void 0;try{a=r.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==a?a:n},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=x(t),a=void 0,o=e;for(;(a=r.shift())&&r.length;)o[a]||(o[a]={}),o=o[a];return o[a]=n,e},takeRight:function(e,t){var n=t>e.length?0:e.length-t;return e.slice(n)},last:function(e){return e[e.length-1]},orderBy:function(e,t,n,r){return e.sort((function(e,a){for(var o=0;o<t.length;o+=1){var i=t[o],s=!1===n[o]||"desc"===n[o],l=i(e,a);if(l)return s?-l:l}return n[0]?e[r]-a[r]:a[r]-e[r]}))},range:function(e){for(var t=[],n=0;n<e;n+=1)t.push(e);return t},remove:function(e,t){return e.filter((function(n,r){return!!t(n)&&(e.splice(r,1),!0)}))},clone:function(e){try{return JSON.parse(JSON.stringify(e,(function(e,t){return"function"==typeof t?t.toString():t})))}catch(t){return e}},getFirstDefined:function(){for(var e=0;e<arguments.length;e+=1)if(void 0!==(arguments.length<=e?void 0:arguments[e]))return arguments.length<=e?void 0:arguments[e]},sum:function(e){return e.reduce((function(e,t){return e+t}),0)},makeTemplateComponent:function(e,t){if(!t)throw new Error("No displayName found for template component:",e);var n=function(t){var n=t.children,r=t.className,o=b(t,["children","className"]);return a.a.createElement("div",y({className:v()(e,r)},o),n)};return n.displayName=t,n},groupBy:function(e,t){return e.reduce((function(e,n,r){var a="function"==typeof t?t(n,r):n[t];return e[a]=w(e[a])?e[a]:[],e[a].push(n),e}),{})},isArray:w,splitProps:function(e){var t=e.className,n=e.style,r=b(e,["className","style"]);return{className:t,style:n,rest:r||{}}},compactObject:function(e){var t={};e&&Object.keys(e).map((function(n){return Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&void 0!==e[n]&&(t[n]=e[n]),!0}));return t},isSortingDesc:function(e){return!("desc"!==e.sort&&!0!==e.desc&&!1!==e.asc)},normalizeComponent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return P(e)?a.a.createElement(e,t):"function"==typeof e?e(t):n},asPx:function(e){return e=Number(e),Number.isNaN(e)?null:e+"px"}};function w(e){return Array.isArray(e)}function x(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(w(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}function P(e){return function(e){return"function"==typeof e&&!!Object.getPrototypeOf(e).isReactComponent}(e)||function(e){return"function"==typeof e&&String(e).includes(".createElement")}(e)}var C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var F=function(e){return a.a.createElement("button",R({type:"button"},e,{className:"-btn"}),e.children)},A=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getSafePage=n.getSafePage.bind(n),n.changePage=n.changePage.bind(n),n.applyPage=n.applyPage.bind(n),n.state={page:e.page},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),M(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.page!==e.page&&this.setState({page:e.page})}},{key:"getSafePage",value:function(e){return Number.isNaN(e)&&(e=this.props.page),Math.min(Math.max(e,0),this.props.pages-1)}},{key:"changePage",value:function(e){e=this.getSafePage(e),this.setState({page:e}),this.props.page!==e&&this.props.onPageChange(e)}},{key:"applyPage",value:function(e){e&&e.preventDefault();var t=this.state.page;this.changePage(""===t?this.props.page:t)}},{key:"getPageJumpProperties",value:function(){var e=this;return{onKeyPress:function(t){13!==t.which&&13!==t.keyCode||e.applyPage()},onBlur:this.applyPage,value:""===this.state.page?"":this.state.page+1,onChange:function(t){var n=t.target.value,r=n-1;if(""===n)return e.setState({page:n});e.setState({page:e.getSafePage(r)})},inputType:""===this.state.page?"text":"number",pageJumpText:this.props.pageJumpText}}},{key:"render",value:function(){var e=this,t=this.props,n=t.pages,r=t.page,o=t.showPageSizeOptions,i=t.pageSizeOptions,s=t.pageSize,l=t.showPageJump,c=t.canPrevious,u=t.canNext,p=t.onPageSizeChange,d=t.className,f=t.PreviousComponent,m=t.NextComponent,h=t.renderPageJump,g=t.renderCurrentPage,y=t.renderTotalPagesCount,b=t.renderPageSizeOptions;return a.a.createElement("div",{className:v()(d,"-pagination"),style:this.props.style},a.a.createElement("div",{className:"-previous"},a.a.createElement(f,{onClick:function(){c&&e.changePage(r-1)},disabled:!c},this.props.previousText)),a.a.createElement("div",{className:"-center"},a.a.createElement("span",{className:"-pageInfo"},this.props.pageText," ",l?h(this.getPageJumpProperties()):g(r)," ",this.props.ofText," ",y(n)),o&&b({pageSize:s,rowsSelectorText:this.props.rowsSelectorText,pageSizeOptions:i,onPageSizeChange:p,rowsText:this.props.rowsText})),a.a.createElement("div",{className:"-next"},a.a.createElement(m,{onClick:function(){u&&e.changePage(r+1)},disabled:!u},this.props.nextText)))}}]),t}(r.Component);A.defaultProps={PreviousComponent:F,NextComponent:F,renderPageJump:function(e){var t=e.onChange,n=e.value,r=e.onBlur,o=e.onKeyPress,i=e.inputType,s=e.pageJumpText;return a.a.createElement("div",{className:"-pageJump"},a.a.createElement("input",{"aria-label":s,type:i,onChange:t,value:n,onBlur:r,onKeyPress:o}))},renderCurrentPage:function(e){return a.a.createElement("span",{className:"-currentPage"},e+1)},renderTotalPagesCount:function(e){return a.a.createElement("span",{className:"-totalPages"},e||1)},renderPageSizeOptions:function(e){var t=e.pageSize,n=e.pageSizeOptions,r=e.rowsSelectorText,o=e.onPageSizeChange,i=e.rowsText;return a.a.createElement("span",{className:"select-wrap -pageSizeOptions"},a.a.createElement("select",{"aria-label":r,onChange:function(e){return o(Number(e.target.value))},value:t},n.map((function(e,t){return a.a.createElement("option",{key:t,value:e},e+" "+i)}))))}};var H=A,B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function W(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var L=function(){return{}},I={data:[],resolveData:function(e){return e},loading:!1,showPagination:!0,showPaginationTop:!1,showPaginationBottom:!0,showPageSizeOptions:!0,pageSizeOptions:[5,10,20,25,50,100],defaultPage:0,defaultPageSize:20,showPageJump:!0,collapseOnSortingChange:!0,collapseOnPageChange:!0,collapseOnDataChange:!0,freezeWhenExpanded:!1,sortable:!0,multiSort:!0,resizable:!0,filterable:!1,defaultSortDesc:!1,defaultSorted:[],defaultFiltered:[],defaultResized:[],defaultExpanded:{},defaultFilterMethod:function(e,t,n){var r=e.pivotId||e.id;return void 0===t[r]||String(t[r]).startsWith(e.value)},defaultSortMethod:function(e,t,n){return t=null==t?"":t,(e="string"==typeof(e=null==e?"":e)?e.toLowerCase():e)>(t="string"==typeof t?t.toLowerCase():t)?1:e<t?-1:0},onPageChange:void 0,onPageSizeChange:void 0,onSortedChange:void 0,onFilteredChange:void 0,onResizedChange:void 0,onExpandedChange:void 0,pivotBy:void 0,pivotValKey:"_pivotVal",pivotIDKey:"_pivotID",subRowsKey:"_subRows",aggregatedKey:"_aggregated",nestingLevelKey:"_nestingLevel",originalKey:"_original",indexKey:"_index",groupedByPivotKey:"_groupedByPivot",onFetchData:function(){return null},className:"",style:{},getProps:L,getTableProps:L,getTheadGroupProps:L,getTheadGroupTrProps:L,getTheadGroupThProps:L,getTheadProps:L,getTheadTrProps:L,getTheadThProps:L,getTheadFilterProps:L,getTheadFilterTrProps:L,getTheadFilterThProps:L,getTbodyProps:L,getTrGroupProps:L,getTrProps:L,getTdProps:L,getTfootProps:L,getTfootTrProps:L,getTfootTdProps:L,getPaginationProps:L,getLoadingProps:L,getNoDataProps:L,getResizerProps:L,column:{Cell:void 0,Header:void 0,Footer:void 0,Aggregated:void 0,Pivot:void 0,PivotValue:void 0,Expander:void 0,Filter:void 0,Placeholder:void 0,sortable:void 0,resizable:void 0,filterable:void 0,show:!0,minWidth:100,minResizeWidth:11,className:"",style:{},getProps:L,aggregate:void 0,headerClassName:"",headerStyle:{},getHeaderProps:L,footerClassName:"",footerStyle:{},getFooterProps:L,filterMethod:void 0,filterAll:!1,sortMethod:void 0},expanderDefaults:{sortable:!1,resizable:!1,filterable:!1,width:35},pivotDefaults:{},previousText:"Previous",nextText:"Next",loadingText:"Loading...",noDataText:"No rows found",pageText:"Page",ofText:"of",rowsText:"rows",pageJumpText:"jump to page",rowsSelectorText:"rows per page",TableComponent:function(e){var t=e.children,n=e.className,r=W(e,["children","className"]);return a.a.createElement("div",B({className:v()("rt-table",n),role:"grid"},r),t)},TheadComponent:E.makeTemplateComponent("rt-thead","Thead"),TbodyComponent:E.makeTemplateComponent("rt-tbody","Tbody"),TrGroupComponent:function(e){var t=e.children,n=e.className,r=W(e,["children","className"]);return a.a.createElement("div",B({className:v()("rt-tr-group",n),role:"rowgroup"},r),t)},TrComponent:function(e){var t=e.children,n=e.className,r=W(e,["children","className"]);return a.a.createElement("div",B({className:v()("rt-tr",n),role:"row"},r),t)},ThComponent:function(e){var t=e.toggleSort,n=e.className,r=e.children,o=W(e,["toggleSort","className","children"]);return a.a.createElement("div",B({className:v()("rt-th",n),onClick:function(e){return t&&t(e)},role:"columnheader",tabIndex:"-1"},o),r)},TdComponent:function(e){e.toggleSort;var t=e.className,n=e.children,r=W(e,["toggleSort","className","children"]);return a.a.createElement("div",B({className:v()("rt-td",t),role:"gridcell"},r),n)},TfootComponent:E.makeTemplateComponent("rt-tfoot","Tfoot"),FilterComponent:function(e){var t=e.filter,n=e.onChange,r=e.column;return a.a.createElement("input",{type:"text",style:{width:"100%"},placeholder:r.Placeholder,value:t?t.value:"",onChange:function(e){return n(e.target.value)}})},ExpanderComponent:function(e){var t=e.isExpanded;return a.a.createElement("div",{className:v()("rt-expander",t&&"-open")},"•")},PivotValueComponent:function(e){var t=e.subRows,n=e.value;return a.a.createElement("span",null,n," ",t&&"("+t.length+")")},AggregatedComponent:function(e){var t=e.subRows,n=e.column,r=t.filter((function(e){return void 0!==e[n.id]})).map((function(e,r){return a.a.createElement("span",{key:r},e[n.id],r<t.length-1?", ":"")}));return a.a.createElement("span",null,r)},PivotComponent:void 0,PaginationComponent:H,PreviousComponent:void 0,NextComponent:void 0,LoadingComponent:function(e){var t=e.className,n=e.loading,r=e.loadingText,o=W(e,["className","loading","loadingText"]);return a.a.createElement("div",B({className:v()("-loading",{"-active":n},t)},o),a.a.createElement("div",{className:"-loading-inner"},r))},NoDataComponent:E.makeTemplateComponent("rt-noData","NoData"),ResizerComponent:E.makeTemplateComponent("rt-resizer","Resizer"),PadRowComponent:function(){return a.a.createElement("span",null," ")}},U=n(2),K=n.n(U),G={data:K.a.any,loading:K.a.bool,showPagination:K.a.bool,showPaginationTop:K.a.bool,showPaginationBottom:K.a.bool,showPageSizeOptions:K.a.bool,pageSizeOptions:K.a.array,defaultPageSize:K.a.number,showPageJump:K.a.bool,collapseOnSortingChange:K.a.bool,collapseOnPageChange:K.a.bool,collapseOnDataChange:K.a.bool,freezeWhenExpanded:K.a.bool,sortable:K.a.bool,resizable:K.a.bool,filterable:K.a.bool,defaultSortDesc:K.a.bool,defaultSorted:K.a.array,defaultFiltered:K.a.array,defaultResized:K.a.array,defaultExpanded:K.a.object,defaultFilterMethod:K.a.func,defaultSortMethod:K.a.func,onPageChange:K.a.func,onPageSizeChange:K.a.func,onSortedChange:K.a.func,onFilteredChange:K.a.func,onResizedChange:K.a.func,onExpandedChange:K.a.func,pivotBy:K.a.array,pivotValKey:K.a.string,pivotIDKey:K.a.string,subRowsKey:K.a.string,aggregatedKey:K.a.string,nestingLevelKey:K.a.string,originalKey:K.a.string,indexKey:K.a.string,groupedByPivotKey:K.a.string,onFetchData:K.a.func,className:K.a.string,style:K.a.object,getProps:K.a.func,getTableProps:K.a.func,getTheadGroupProps:K.a.func,getTheadGroupTrProps:K.a.func,getTheadGroupThProps:K.a.func,getTheadProps:K.a.func,getTheadTrProps:K.a.func,getTheadThProps:K.a.func,getTheadFilterProps:K.a.func,getTheadFilterTrProps:K.a.func,getTheadFilterThProps:K.a.func,getTbodyProps:K.a.func,getTrGroupProps:K.a.func,getTrProps:K.a.func,getTdProps:K.a.func,getTfootProps:K.a.func,getTfootTrProps:K.a.func,getTfootTdProps:K.a.func,getPaginationProps:K.a.func,getLoadingProps:K.a.func,getNoDataProps:K.a.func,getResizerProps:K.a.func,columns:K.a.arrayOf(K.a.shape({Cell:K.a.oneOfType([K.a.element,K.a.string,K.a.func]),Header:K.a.oneOfType([K.a.element,K.a.string,K.a.func]),Footer:K.a.oneOfType([K.a.element,K.a.string,K.a.func]),Aggregated:K.a.oneOfType([K.a.element,K.a.string,K.a.func]),Pivot:K.a.oneOfType([K.a.element,K.a.string,K.a.func]),PivotValue:K.a.oneOfType([K.a.element,K.a.string,K.a.func]),Expander:K.a.oneOfType([K.a.element,K.a.string,K.a.func]),Filter:K.a.oneOfType([K.a.element,K.a.func]),sortable:K.a.bool,resizable:K.a.bool,filterable:K.a.bool,show:K.a.bool,minWidth:K.a.number,minResizeWidth:K.a.number,className:K.a.string,style:K.a.object,getProps:K.a.func,aggregate:K.a.func,headerClassName:K.a.string,headerStyle:K.a.object,getHeaderProps:K.a.func,footerClassName:K.a.string,footerStyle:K.a.object,getFooterProps:K.a.func,filterMethod:K.a.func,filterAll:K.a.bool,sortMethod:K.a.func})),expanderDefaults:K.a.shape({sortable:K.a.bool,resizable:K.a.bool,filterable:K.a.bool,width:K.a.number}),pivotDefaults:K.a.object,previousText:K.a.node,nextText:K.a.node,loadingText:K.a.node,noDataText:K.a.node,pageText:K.a.node,ofText:K.a.node,rowsText:K.a.node,pageJumpText:K.a.node,rowsSelectorText:K.a.node,TableComponent:K.a.elementType,TheadComponent:K.a.elementType,TbodyComponent:K.a.elementType,TrGroupComponent:K.a.elementType,TrComponent:K.a.elementType,ThComponent:K.a.elementType,TdComponent:K.a.elementType,TfootComponent:K.a.elementType,FilterComponent:K.a.elementType,ExpanderComponent:K.a.elementType,PivotValueComponent:K.a.elementType,AggregatedComponent:K.a.elementType,PivotComponent:K.a.elementType,PaginationComponent:K.a.elementType,PreviousComponent:K.a.elementType,NextComponent:K.a.elementType,LoadingComponent:K.a.elementType,NoDataComponent:K.a.elementType,ResizerComponent:K.a.elementType,PadRowComponent:K.a.elementType},q=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getResolvedState=n.getResolvedState.bind(n),n.getDataModel=n.getDataModel.bind(n),n.getSortedData=n.getSortedData.bind(n),n.fireFetchData=n.fireFetchData.bind(n),n.getPropOrState=n.getPropOrState.bind(n),n.getStateOrProp=n.getStateOrProp.bind(n),n.filterData=n.filterData.bind(n),n.sortData=n.sortData.bind(n),n.getMinRows=n.getMinRows.bind(n),n.onPageChange=n.onPageChange.bind(n),n.onPageSizeChange=n.onPageSizeChange.bind(n),n.sortColumn=n.sortColumn.bind(n),n.filterColumn=n.filterColumn.bind(n),n.resizeColumnStart=n.resizeColumnStart.bind(n),n.resizeColumnEnd=n.resizeColumnEnd.bind(n),n.resizeColumnMoving=n.resizeColumnMoving.bind(n),n.state={page:e.defaultPage,pageSize:e.defaultPageSize,sorted:e.defaultSorted,expanded:e.defaultExpanded,filtered:e.defaultFiltered,resized:e.defaultResized,currentlyResizing:!1,skipNextSort:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$(t,[{key:"render",value:function(){var e=this,t=this.getResolvedState(),n=t.children,r=t.className,o=t.style,i=t.getProps,s=t.getTableProps,l=t.getTheadGroupProps,c=t.getTheadGroupTrProps,u=t.getTheadGroupThProps,p=t.getTheadProps,d=t.getTheadTrProps,f=t.getTheadThProps,m=t.getTheadFilterProps,h=t.getTheadFilterTrProps,g=t.getTheadFilterThProps,y=t.getTbodyProps,b=t.getTrGroupProps,w=t.getTrProps,x=t.getTdProps,P=t.getTfootProps,C=t.getTfootTrProps,O=t.getTfootTdProps,k=t.getPaginationProps,S=t.getLoadingProps,N=t.getNoDataProps,T=t.getResizerProps,j=t.showPagination,z=t.showPaginationTop,_=t.showPaginationBottom,D=t.manual,M=t.loadingText,R=t.noDataText,F=t.sortable,A=t.multiSort,H=t.resizable,B=t.filterable,W=t.pivotIDKey,L=t.pivotValKey,U=t.pivotBy,K=t.subRowsKey,G=t.aggregatedKey,$=t.originalKey,Y=t.indexKey,J=t.groupedByPivotKey,X=t.loading,Z=t.pageSize,Q=t.page,ee=t.sorted,te=t.filtered,ne=t.resized,re=t.expanded,ae=t.pages,oe=t.onExpandedChange,ie=t.TableComponent,se=t.TheadComponent,le=t.TbodyComponent,ce=t.TrGroupComponent,ue=t.TrComponent,pe=t.ThComponent,de=t.TdComponent,fe=t.TfootComponent,me=t.PaginationComponent,he=t.LoadingComponent,ge=t.SubComponent,ve=t.NoDataComponent,ye=t.ResizerComponent,be=t.ExpanderComponent,Ee=t.PivotValueComponent,we=t.PivotComponent,xe=t.AggregatedComponent,Pe=t.FilterComponent,Ce=t.PadRowComponent,Oe=t.resolvedData,ke=t.allVisibleColumns,Se=t.headerGroups,Ne=t.hasHeaderGroups,Te=t.sortedData,je=t.currentlyResizing,ze=Z*Q,_e=ze+Z,De=D?Oe:Te.slice(ze,_e),Me=this.getMinRows(),Re=E.range(Math.max(Me-De.length,0)),Fe=ke.some((function(e){return e.Footer})),Ae=B||ke.some((function(e){return e.filterable})),He=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return[t.map((function(t,a){var o=V({},t,{_viewIndex:r+=1}),i=n.concat([a]);if(o[K]&&E.get(re,i)){var s=e(o[K],i,r),l=q(s,2);o[K]=l[0],r=l[1]}return o})),r]}(De),Be=q(He,1);De=Be[0];var We=Q>0,Le=Q+1<ae,Ie=E.sum(ke.map((function(e){var t=ne.find((function(t){return t.id===e.id}))||{};return E.getFirstDefined(t.value,e.width,e.minWidth)}))),Ue=-1,Ke=V({},t,{startRow:ze,endRow:_e,pageRows:De,minRows:Me,padRows:Re,hasColumnFooter:Fe,canPrevious:We,canNext:Le,rowMinWidth:Ie}),Ge=E.splitProps(i(Ke,void 0,void 0,this)),qe=E.splitProps(s(Ke,void 0,void 0,this)),Ve=E.splitProps(y(Ke,void 0,void 0,this)),$e=S(Ke,void 0,void 0,this),Ye=N(Ke,void 0,void 0,this),Je=function(t,n){var r=function(e){return(ne.find((function(t){return t.id===e.id}))||{}).value},o=E.sum(t.columns.map((function(e){return e.width||r(e)?0:e.minWidth}))),i=E.sum(t.columns.map((function(e){return E.getFirstDefined(r(e),e.width,e.minWidth)}))),s=E.sum(t.columns.map((function(e){return E.getFirstDefined(r(e),e.width,e.maxWidth)}))),l=E.splitProps(u(Ke,void 0,t,e)),c=E.splitProps(t.getHeaderProps(Ke,void 0,t,e)),p=[t.headerClassName,l.className,c.className],d=V({},t.headerStyle,l.style,c.style),f=V({},l.rest,c.rest),m={flex:o+" 0 auto",width:E.asPx(i),maxWidth:E.asPx(s)};return a.a.createElement(pe,V({key:n+"-"+t.id,className:v()(p),style:V({},d,m)},f),E.normalizeComponent(t.Header,{data:Te,column:t}))},Xe=function(t,n){var r=ne.find((function(e){return e.id===t.id}))||{},o=ee.find((function(e){return e.id===t.id})),i="function"==typeof t.show?t.show():t.show,s=E.getFirstDefined(r.value,t.width,t.minWidth),l=E.getFirstDefined(r.value,t.width,t.maxWidth),c=E.splitProps(f(Ke,void 0,t,e)),u=E.splitProps(t.getHeaderProps(Ke,void 0,t,e)),p=[t.headerClassName,c.className,u.className],d=V({},t.headerStyle,c.style,u.style),m=V({},c.rest,u.rest),h=E.getFirstDefined(t.resizable,H,!1),g=h?a.a.createElement(ye,V({onMouseDown:function(n){return e.resizeColumnStart(n,t,!1)},onTouchStart:function(n){return e.resizeColumnStart(n,t,!0)}},T("finalState",void 0,t,e))):null,y=E.getFirstDefined(t.sortable,F,!1);return a.a.createElement(pe,V({key:n+"-"+t.id,className:v()(p,h&&"rt-resizable-header",o?o.desc?"-sort-desc":"-sort-asc":"",y&&"-cursor-pointer",!i&&"-hidden",U&&U.slice(0,-1).includes(t.id)&&"rt-header-pivot"),style:V({},d,{flex:s+" 0 auto",width:E.asPx(s),maxWidth:E.asPx(l)}),toggleSort:function(n){y&&e.sortColumn(t,!!A&&n.shiftKey)}},m),a.a.createElement("div",{className:v()(h&&"rt-resizable-header-content")},E.normalizeComponent(t.Header,{data:Te,column:t})),g)},Ze=function(t,n){var r=ne.find((function(e){return e.id===t.id}))||{},o=E.getFirstDefined(r.value,t.width,t.minWidth),i=E.getFirstDefined(r.value,t.width,t.maxWidth),s=E.splitProps(g(Ke,void 0,t,e)),l=E.splitProps(t.getHeaderProps(Ke,void 0,t,e)),c=[t.headerClassName,s.className,l.className],u=V({},t.headerStyle,s.style,l.style),p=V({},s.rest,l.rest),d=te.find((function(e){return e.id===t.id})),f=t.Filter||Pe,m=E.getFirstDefined(t.filterable,B,!1);return a.a.createElement(pe,V({key:n+"-"+t.id,className:v()(c),style:V({},u,{flex:o+" 0 auto",width:E.asPx(o),maxWidth:E.asPx(i)})},p),m?E.normalizeComponent(f,{column:t,filter:d,onChange:function(n){return e.filterColumn(t,n)}},I.column.Filter):null)},Qe=function(t,n){var r=ne.find((function(e){return e.id===t.id}))||{},o="function"==typeof t.show?t.show():t.show,i=E.getFirstDefined(r.value,t.width,t.minWidth),s=i,l=E.getFirstDefined(r.value,t.width,t.maxWidth),c=E.splitProps(x(Ke,void 0,t,e)),u=E.splitProps(t.getProps(Ke,void 0,t,e)),p=[c.className,t.className,u.className],d=V({},c.style,t.style,u.style);return a.a.createElement(de,V({key:n+"-"+t.id,className:v()(p,!o&&"hidden"),style:V({},d,{flex:s+" 0 auto",width:E.asPx(i),maxWidth:E.asPx(l)})},c.rest),E.normalizeComponent(Ce))},et=function(t,n){var r=b(Ke,void 0,void 0,e),o=E.splitProps(w(Ke,void 0,void 0,e));return a.a.createElement(ce,V({key:"pad-"+n},r),a.a.createElement(ue,{className:v()("-padRow",(De.length+n)%2?"-even":"-odd",o.className),style:o.style||{}},ke.map(Qe)))},tt=function(t,n){var r=ne.find((function(e){return e.id===t.id}))||{},o="function"==typeof t.show?t.show():t.show,i=E.getFirstDefined(r.value,t.width,t.minWidth),s=E.getFirstDefined(r.value,t.width,t.maxWidth),l=E.splitProps(O(Ke,void 0,t,e)),c=E.splitProps(t.getProps(Ke,void 0,t,e)),u=E.splitProps(t.getFooterProps(Ke,void 0,t,e)),p=[l.className,t.className,c.className,u.className],d=V({},l.style,t.style,c.style,u.style);return a.a.createElement(de,V({key:n+"-"+t.id,className:v()(p,!o&&"hidden"),style:V({},d,{flex:i+" 0 auto",width:E.asPx(i),maxWidth:E.asPx(s)})},c.rest,l.rest,u.rest),E.normalizeComponent(t.Footer,{data:Te,column:t}))},nt=function(n){var r=E.splitProps(k(Ke,void 0,void 0,e));return a.a.createElement(me,V({},t,{pages:ae,canPrevious:We,canNext:Le,onPageChange:e.onPageChange,onPageSizeChange:e.onPageSizeChange,className:r.className,style:r.style,isTop:n},r.rest))},rt=function(){return a.a.createElement("div",V({className:v()("ReactTable",r,Ge.className),style:V({},o,Ge.style)},Ge.rest),j&&z?a.a.createElement("div",{className:"pagination-top"},nt(!0)):null,a.a.createElement(ie,V({className:v()(qe.className,je?"rt-resizing":""),style:qe.style},qe.rest),Ne?(g=E.splitProps(l(Ke,void 0,void 0,e)),y=E.splitProps(c(Ke,void 0,void 0,e)),a.a.createElement(se,V({className:v()("-headerGroups",g.className),style:V({},g.style,{minWidth:Ie+"px"})},g.rest),a.a.createElement(ue,V({className:y.className,style:y.style},y.rest),Se.map(Je)))):null,(u=E.splitProps(p(Ke,void 0,void 0,e)),f=E.splitProps(d(Ke,void 0,void 0,e)),a.a.createElement(se,V({className:v()("-header",u.className),style:V({},u.style,{minWidth:Ie+"px"})},u.rest),a.a.createElement(ue,V({className:f.className,style:f.style},f.rest),ke.map(Xe)))),Ae?(i=E.splitProps(m(Ke,void 0,void 0,e)),s=E.splitProps(h(Ke,void 0,void 0,e)),a.a.createElement(se,V({className:v()("-filters",i.className),style:V({},i.style,{minWidth:Ie+"px"})},i.rest),a.a.createElement(ue,V({className:s.className,style:s.style},s.rest),ke.map(Ze)))):null,a.a.createElement(le,V({className:v()(Ve.className),style:V({},Ve.style,{minWidth:Ie+"px"})},Ve.rest),De.map((function(t,n){return function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i={original:n[$],row:n,index:n[Y],viewIndex:Ue+=1,pageSize:Z,page:Q,level:o.length,nestingPath:o.concat([r]),aggregated:n[G],groupedByPivot:n[J],subRows:n[K]},s=E.get(re,i.nestingPath),l=b(Ke,i,void 0,e),c=E.splitProps(w(Ke,i,void 0,e));return a.a.createElement(ce,V({key:i.nestingPath.join("_")},l),a.a.createElement(ue,V({className:v()(c.className,n._viewIndex%2?"-even":"-odd"),style:c.style},c.rest),ke.map((function(t,r){var o=ne.find((function(e){return e.id===t.id}))||{},l="function"==typeof t.show?t.show():t.show,c=E.getFirstDefined(o.value,t.width,t.minWidth),u=E.getFirstDefined(o.value,t.width,t.maxWidth),p=E.splitProps(x(Ke,i,t,e)),d=E.splitProps(t.getProps(Ke,i,t,e)),f=[p.className,t.className,d.className],m=V({},p.style,t.style,d.style),h=V({},i,{isExpanded:s,column:V({},t),value:i.row[t.id],pivoted:t.pivoted,expander:t.expander,resized:ne,show:l,width:c,maxWidth:u,tdProps:p,columnProps:d,classes:f,styles:m}),g=h.value,y=void 0,b=void 0,w=void 0,P=E.normalizeComponent(t.Cell,h,g),C=t.Aggregated||(t.aggregate?t.Cell:xe),O=t.Expander||be,k=t.PivotValue||Ee,S=we||function(e){return a.a.createElement("div",null,a.a.createElement(O,e),a.a.createElement(k,e))},N=t.Pivot||S;(h.pivoted||h.expander)&&(h.expandable=!0,y=!0,!h.pivoted||h.subRows||ge||(h.expandable=!1)),h.pivoted?(b=i.row[W]===t.id&&h.subRows,w=U.indexOf(t.id)>U.indexOf(i.row[W])&&h.subRows,P=b?E.normalizeComponent(N,V({},h,{value:n[L]}),n[L]):w?E.normalizeComponent(C,h,g):null):h.aggregated&&(P=E.normalizeComponent(C,h,g)),h.expander&&(P=E.normalizeComponent(O,h,n[L]),U&&(h.groupedByPivot&&(P=null),h.subRows||ge||(P=null)));var T=y?function(t){var n=E.clone(re);return n=s?E.set(n,h.nestingPath,!1):E.set(n,h.nestingPath,{}),e.setStateWithData({expanded:n},(function(){return oe&&oe(n,h.nestingPath,t,h)}))}:function(){},j={onClick:T};return p.rest.onClick&&(j.onClick=function(e){p.rest.onClick(e,(function(){return T(e)}))}),d.rest.onClick&&(j.onClick=function(e){d.rest.onClick(e,(function(){return T(e)}))}),a.a.createElement(de,V({key:r+"-"+t.id,className:v()(f,!h.expandable&&!l&&"hidden",h.expandable&&"rt-expandable",(b||w)&&"rt-pivot"),style:V({},m,{flex:c+" 0 auto",width:E.asPx(c),maxWidth:E.asPx(u)})},p.rest,d.rest,j),P)}))),i.subRows&&s&&i.subRows.map((function(e,n){return t(e,n,i.nestingPath)})),ge&&!i.subRows&&s&&ge(i,(function(){var e=E.clone(re);E.set(e,i.nestingPath,!1)})))}(t,n)})),Re.map(et)),Fe?(t=E.splitProps(P(Ke,void 0,void 0,e)),n=E.splitProps(C(Ke,void 0,void 0,e)),a.a.createElement(fe,V({className:t.className,style:V({},t.style,{minWidth:Ie+"px"})},t.rest),a.a.createElement(ue,V({className:v()(n.className),style:n.style},n.rest),ke.map(tt)))):null),j&&_?a.a.createElement("div",{className:"pagination-bottom"},nt(!1)):null,!De.length&&a.a.createElement(ve,Ye,E.normalizeComponent(R)),a.a.createElement(he,V({loading:X,loadingText:M},$e)));var t,n,i,s,u,f,g,y};return n?n(Ke,rt,this):rt()}}]),t}(function(e){return function(e){function t(){return _(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:"getResolvedState",value:function(e,t){return N({},E.compactObject(this.state),E.compactObject(this.props),E.compactObject(t),E.compactObject(e))}},{key:"getDataModel",value:function(e,t){var n=this,r=e.columns,o=e.pivotBy,i=void 0===o?[]:o,s=e.data,l=e.resolveData,c=e.pivotIDKey,u=e.pivotValKey,p=e.subRowsKey,d=e.aggregatedKey,f=e.nestingLevelKey,m=e.originalKey,h=e.indexKey,g=e.groupedByPivotKey,v=e.SubComponent,y=!1;r.forEach((function(e){e.columns&&(y=!0)}));var b=[].concat(z(r)),w=r.find((function(e){return e.expander||e.columns&&e.columns.some((function(e){return e.expander}))}));w&&!w.expander&&(w=w.columns.find((function(e){return e.expander}))),v&&!w&&(b=[w={expander:!0}].concat(z(b)));var x=[],P=function(e,t){var r=function(e,t){var r=void 0;if((r=e.expander?N({},n.props.column,n.props.expanderDefaults,e):N({},n.props.column,e)).maxWidth<r.minWidth&&(r.minWidth=r.maxWidth),t&&(r.parentColumn=t),"string"==typeof r.accessor){r.id=r.id||r.accessor;var a=r.accessor;return r.accessor=function(e){return E.get(e,a)},r}if(r.accessor&&!r.id)throw console.warn(r),new Error("A column id is required if using a non-string accessor for column above.");return r.accessor||(r.accessor=function(){}),r}(e,t);return x.push(r),r},C=b.map((function(e){return e.columns?N({},e,{columns:e.columns.map((function(t){return P(t,e)}))}):P(e)})).slice(),O=[],k=(C=(C=C.map((function(e){if(e.columns){var t=e.columns.filter((function(e){return!(i.indexOf(e.id)>-1)&&E.getFirstDefined(e.show,!0)}));return N({},e,{columns:t})}return e}))).filter((function(e){return e.columns?e.columns.length:!(i.indexOf(e.id)>-1)&&E.getFirstDefined(e.show,!0)}))).findIndex((function(e){return e.pivot}));if(i.length){var T=[];i.forEach((function(e){var t=x.find((function(t){return t.id===e}));t&&T.push(t)}));var _=T.reduce((function(e,t){return e&&e===t.parentColumn&&t.parentColumn}),T[0].parentColumn),D=y&&_.Header,M={Header:D=D||function(){return a.a.createElement("strong",null,"Pivoted")},columns:T.map((function(e){return N({},n.props.pivotDefaults,e,{pivoted:!0})}))};k>=0?(M=N({},C[k],M),C.splice(k,1,M)):C.unshift(M)}var R=[],F=[],A=function(e,t){R.push(N({},n.props.column,t,{columns:e})),F=[]};C.forEach((function(e){if(e.columns)return O=O.concat(e.columns),F.length>0&&A(F),void A(e.columns,e);O.push(e),F.push(e)})),y&&F.length>0&&A(F);var H=this.resolvedData;this.resolvedData&&!t||(H=l(s),this.resolvedData=H),H=H.map((function(e,t){return function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(j(r={},m,t),j(r,h,n),j(r,p,t[p]),j(r,f,a),r);return x.forEach((function(e){e.expander||(o[e.id]=e.accessor(t))})),o[p]&&(o[p]=o[p].map((function(t,n){return e(t,n,a+1)}))),o}(e,t)}));var B=O.filter((function(e){return!e.expander&&e.aggregate})),W=function(e){var t={};return B.forEach((function(n){var r=e.map((function(e){return e[n.id]}));t[n.id]=n.aggregate(r,e)})),t};if(i.length){H=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r===n.length)return t;var a=Object.entries(E.groupBy(t,n[r])).map((function(e){var t,a=S(e,2),o=a[0],i=a[1];return j(t={},c,n[r]),j(t,u,o),j(t,n[r],o),j(t,p,i),j(t,f,r),j(t,g,!0),t}));return a=a.map((function(t){var a,o=e(t[p],n,r+1);return N({},t,(j(a={},p,o),j(a,d,!0),a),W(o))}))}(H,i)}return N({},e,{resolvedData:H,allVisibleColumns:O,headerGroups:R,allDecoratedColumns:x,hasHeaderGroups:y})}},{key:"getSortedData",value:function(e){var t=e.manual,n=e.sorted,r=e.filtered,a=e.defaultFilterMethod,o=e.resolvedData,i=e.allDecoratedColumns,s={};return i.filter((function(e){return e.sortMethod})).forEach((function(e){s[e.id]=e.sortMethod})),{sortedData:t?o:this.sortData(this.filterData(o,r,a,i),n,s)}}},{key:"fireFetchData",value:function(){var e=N({},this.getResolvedState(),{page:this.getStateOrProp("page"),pageSize:this.getStateOrProp("pageSize"),filtered:this.getStateOrProp("filtered")});this.props.onFetchData(e,this)}},{key:"getPropOrState",value:function(e){return E.getFirstDefined(this.props[e],this.state[e])}},{key:"getStateOrProp",value:function(e){return E.getFirstDefined(this.state[e],this.props[e])}},{key:"filterData",value:function(e,t,n,r){var a=this,o=e;return t.length&&(o=(o=t.reduce((function(e,t){var a=r.find((function(e){return e.id===t.id}));if(!a||!1===a.filterable)return e;var o=a.filterMethod||n;return a.filterAll?o(t,e,a):e.filter((function(e){return o(t,e,a)}))}),o)).map((function(e){return e[a.props.subRowsKey]?N({},e,j({},a.props.subRowsKey,a.filterData(e[a.props.subRowsKey],t,n,r))):e})).filter((function(e){return!e[a.props.subRowsKey]||e[a.props.subRowsKey].length>0}))),o}},{key:"sortData",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.length)return e;var a=(this.props.orderByMethod||E.orderBy)(e,t.map((function(e){return r[e.id]?function(t,n){return r[e.id](t[e.id],n[e.id],e.desc)}:function(t,r){return n.props.defaultSortMethod(t[e.id],r[e.id],e.desc)}})),t.map((function(e){return!e.desc})),this.props.indexKey);return a.forEach((function(e){e[n.props.subRowsKey]&&(e[n.props.subRowsKey]=n.sortData(e[n.props.subRowsKey],t,r))})),a}},{key:"getMinRows",value:function(){return E.getFirstDefined(this.props.minRows,this.getStateOrProp("pageSize"))}},{key:"onPageChange",value:function(e){var t=this.props,n=t.onPageChange,r=t.collapseOnPageChange,a={page:e};r&&(a.expanded={}),this.setStateWithData(a,(function(){return n&&n(e)}))}},{key:"onPageSizeChange",value:function(e){var t=this.props.onPageSizeChange,n=this.getResolvedState(),r=n.pageSize*n.page,a=Math.floor(r/e);this.setStateWithData({pageSize:e,page:a},(function(){return t&&t(e,a)}))}},{key:"sortColumn",value:function(e,t){var n=this.getResolvedState(),r=n.sorted,a=n.skipNextSort,o=n.defaultSortDesc,i=Object.prototype.hasOwnProperty.call(e,"defaultSortDesc")?e.defaultSortDesc:o,s=!i;if(a)this.setStateWithData({skipNextSort:!1});else{var l=this.props.onSortedChange,c=E.clone(r||[]).map((function(e){return e.desc=E.isSortingDesc(e),e}));if(E.isArray(e)){var u=c.findIndex((function(t){return t.id===e[0].id}));if(u>-1)c[u].desc===s?t?c.splice(u,e.length):e.forEach((function(e,t){c[u+t].desc=i})):e.forEach((function(e,t){c[u+t].desc=s})),t||(c=c.slice(u,e.length));else c=t?c.concat(e.map((function(e){return{id:e.id,desc:i}}))):e.map((function(e){return{id:e.id,desc:i}}))}else{var p=c.findIndex((function(t){return t.id===e.id}));if(p>-1){var d=c[p];d.desc===s?t?c.splice(p,1):(d.desc=i,c=[d]):(d.desc=s,t||(c=[d]))}else t?c.push({id:e.id,desc:i}):c=[{id:e.id,desc:i}]}this.setStateWithData({page:!r.length&&c.length||!t?0:this.state.page,sorted:c},(function(){return l&&l(c,e,t)}))}}},{key:"filterColumn",value:function(e,t){var n=this.getResolvedState().filtered,r=this.props.onFilteredChange,a=(n||[]).filter((function(t){return t.id!==e.id}));""!==t&&a.push({id:e.id,value:t}),this.setStateWithData({filtered:a},(function(){return r&&r(a,e,t)}))}},{key:"resizeColumnStart",value:function(e,t,n){var r=this;e.stopPropagation();var a=e.target.parentElement.getBoundingClientRect().width,o=void 0;o=n?e.changedTouches[0].pageX:e.pageX,this.trapEvents=!0,this.setStateWithData({currentlyResizing:{id:t.id,startX:o,parentWidth:a}},(function(){n?(document.addEventListener("touchmove",r.resizeColumnMoving),document.addEventListener("touchcancel",r.resizeColumnEnd),document.addEventListener("touchend",r.resizeColumnEnd)):(document.addEventListener("mousemove",r.resizeColumnMoving),document.addEventListener("mouseup",r.resizeColumnEnd),document.addEventListener("mouseleave",r.resizeColumnEnd))}))}},{key:"resizeColumnMoving",value:function(e){e.stopPropagation();var t=this.props,n=t.onResizedChange,r=t.column,a=this.getResolvedState(),o=a.resized,i=a.currentlyResizing,s=a.columns.find((function(e){return e.accessor===i.id||e.id===i.id})),l=s&&null!=s.minResizeWidth?s.minResizeWidth:r.minResizeWidth,c=o.filter((function(e){return e.id!==i.id})),u=void 0;"touchmove"===e.type?u=e.changedTouches[0].pageX:"mousemove"===e.type&&(u=e.pageX);var p=Math.max(i.parentWidth+u-i.startX,l);c.push({id:i.id,value:p}),this.setStateWithData({resized:c},(function(){return n&&n(c,e)}))}},{key:"resizeColumnEnd",value:function(e){e.stopPropagation();var t="touchend"===e.type||"touchcancel"===e.type;t&&(document.removeEventListener("touchmove",this.resizeColumnMoving),document.removeEventListener("touchcancel",this.resizeColumnEnd),document.removeEventListener("touchend",this.resizeColumnEnd)),document.removeEventListener("mousemove",this.resizeColumnMoving),document.removeEventListener("mouseup",this.resizeColumnEnd),document.removeEventListener("mouseleave",this.resizeColumnEnd),t||this.setStateWithData({skipNextSort:!0,currentlyResizing:!1})}}]),t}(e)}(function(e){function t(){return O(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setStateWithData(this.getDataModel(this.getResolvedState(),!0))}},{key:"componentDidMount",value:function(){this.fireFetchData()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){var n=this.getResolvedState(),r=this.getResolvedState(e,t);["sorted","filtered","resized","expanded"].forEach((function(e){var t="default"+(e.charAt(0).toUpperCase()+e.slice(1));JSON.stringify(n[t])!==JSON.stringify(r[t])&&(r[e]=r[t])})),["sortable","filterable","resizable"].forEach((function(e){if(n[e]!==r[e]){var t=e.replace("able","")+"ed",a="default"+(t.charAt(0).toUpperCase()+t.slice(1));r[t]=r[a]}})),n.data===r.data&&n.columns===r.columns&&n.pivotBy===r.pivotBy&&n.sorted===r.sorted&&n.filtered===r.filtered||this.setStateWithData(this.getDataModel(r,n.data!==r.data))}},{key:"setStateWithData",value:function(e,t){var n=this,r=this.getResolvedState(),a=this.getResolvedState({},e),o=a.freezeWhenExpanded;if(a.frozen=!1,o)for(var i=Object.keys(a.expanded),s=0;s<i.length;s+=1)if(a.expanded[i[s]]){a.frozen=!0;break}return(r.frozen&&!a.frozen||r.sorted!==a.sorted||r.filtered!==a.filtered||r.showFilters!==a.showFilters||!a.frozen&&r.resolvedData!==a.resolvedData)&&((r.sorted!==a.sorted&&this.props.collapseOnSortingChange||r.filtered!==a.filtered||r.showFilters!==a.showFilters||r.sortedData&&!a.frozen&&r.resolvedData!==a.resolvedData&&this.props.collapseOnDataChange)&&(a.expanded={}),Object.assign(a,this.getSortedData(a))),r.filtered!==a.filtered&&(a.page=0),a.sortedData&&(a.pages=a.manual?a.pages:Math.ceil(a.sortedData.length/a.pageSize),a.page=a.manual?a.page:Math.max(a.page>=a.pages?a.pages-1:a.page,0)),this.setState(a,(function(){t&&t(),r.page===a.page&&r.pageSize===a.pageSize&&r.sorted===a.sorted&&r.filtered===a.filtered||n.fireFetchData()}))}}]),t}(r.Component)));Y.propTypes=G,Y.defaultProps=I;var J=Y,X=n(11),Z=n.n(X),Q=n(13),ee=n(7),te=r.createContext(),ne=r.createContext();function re(e){var t=e.children,n=r.useState(null),a=n[0],o=n[1];return r.useEffect((function(){return function(){o(null)}}),[o]),r.createElement(te.Provider,{value:a},r.createElement(ne.Provider,{value:o},t))}var ae=n(46),oe=n.n(ae),ie=function(e){return Array.isArray(e)?e[0]:e},se=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},le=function(e,t){if("function"==typeof e)return se(e,t);null!=e&&(e.current=t)},ce=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},ue="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect;function pe(e){var t=e.children,n=e.innerRef,a=r.useContext(ne),o=r.useCallback((function(e){le(n,e),se(a,e)}),[n,a]);return r.useEffect((function(){return function(){return le(n,null)}})),r.useEffect((function(){oe()(Boolean(a),"`Reference` should not be used outside of a `Manager` component.")}),[a]),ie(t)({ref:o})}function de(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left,x:t.left,y:t.top}}function fe(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView:window}return e}function me(e){var t=fe(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function he(e){return e instanceof fe(e).Element||e instanceof Element}function ge(e){return e instanceof fe(e).HTMLElement||e instanceof HTMLElement}function ve(e){return e?(e.nodeName||"").toLowerCase():null}function ye(e){return(he(e)?e.ownerDocument:e.document).documentElement}function be(e){return de(ye(e)).left+me(e).scrollLeft}function Ee(e){return fe(e).getComputedStyle(e)}function we(e){var t=Ee(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function xe(e,t,n){void 0===n&&(n=!1);var r,a,o=ye(t),i=de(e),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return n||(("body"!==ve(t)||we(o))&&(s=(r=t)!==fe(r)&&ge(r)?{scrollLeft:(a=r).scrollLeft,scrollTop:a.scrollTop}:me(r)),ge(t)?((l=de(t)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=be(o))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function Pe(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function Ce(e){return"html"===ve(e)?e:e.assignedSlot||e.parentNode||e.host||ye(e)}function Oe(e,t){void 0===t&&(t=[]);var n=function e(t){return["html","body","#document"].indexOf(ve(t))>=0?t.ownerDocument.body:ge(t)&&we(t)?t:e(Ce(t))}(e),r="body"===ve(n),a=fe(n),o=r?[a].concat(a.visualViewport||[],we(n)?n:[]):n,i=t.concat(o);return r?i:i.concat(Oe(Ce(o)))}function ke(e){return["table","td","th"].indexOf(ve(e))>=0}function Se(e){return ge(e)&&"fixed"!==Ee(e).position?e.offsetParent:null}function Ne(e){for(var t=fe(e),n=Se(e);n&&ke(n);)n=Se(n);return n&&"body"===ve(n)&&"static"===Ee(n).position?t:n||t}var Te="top",je="bottom",ze="right",_e="left",De=[Te,je,ze,_e],Me=De.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),Re=[].concat(De,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),Fe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ae(e){var t=new Map,n=new Set,r=[];return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||function e(a){n.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var a=t.get(r);a&&e(a)}})),r.push(a)}(e)})),r}var He={placement:"bottom",modifiers:[],strategy:"absolute"};function Be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function We(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,a=t.defaultOptions,o=void 0===a?He:a;return function(e,t,n){void 0===n&&(n=o);var a,i,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},He,{},o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){p(),s.options=Object.assign({},o,{},s.options,{},n),s.scrollParents={reference:he(e)?Oe(e):e.contextElement?Oe(e.contextElement):[],popper:Oe(t)};var a=function(e){var t=Ae(e);return Fe.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,{},t,{options:Object.assign({},n.options,{},t.options),data:Object.assign({},n.data,{},t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,s.options.modifiers)));return s.orderedModifiers=a.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"==typeof a){var o=a({state:s,name:t,instance:u,options:r});l.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Be(t,n)){s.rects={reference:xe(t,Ne(n),"fixed"===s.options.strategy),popper:Pe(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var a=s.orderedModifiers[r],o=a.fn,i=a.options,l=void 0===i?{}:i,p=a.name;"function"==typeof o&&(s=o({state:s,options:l,name:p,instance:u})||s)}else s.reset=!1,r=-1}}},update:(a=function(){return new Promise((function(e){u.forceUpdate(),e(s)}))},function(){return i||(i=new Promise((function(e){Promise.resolve().then((function(){i=void 0,e(a())}))}))),i}),destroy:function(){p(),c=!0}};if(!Be(e,t))return u;function p(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Le={passive:!0};function Ie(e){return e.split("-")[0]}function Ue(e){return e.split("-")[1]}function Ke(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ge(e){var t,n=e.reference,r=e.element,a=e.placement,o=a?Ie(a):null,i=a?Ue(a):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Te:t={x:s,y:n.y-r.height};break;case je:t={x:s,y:n.y+n.height};break;case ze:t={x:n.x+n.width,y:l};break;case _e:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Ke(o):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case"start":t[c]=Math.floor(t[c])-Math.floor(n[u]/2-r[u]/2);break;case"end":t[c]=Math.floor(t[c])+Math.ceil(n[u]/2-r[u]/2)}}return t}var qe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ve(e){var t,n=e.popper,r=e.popperRect,a=e.placement,o=e.offsets,i=e.position,s=e.gpuAcceleration,l=e.adaptive,c=function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Math.round(t*r)/r||0,y:Math.round(n*r)/r||0}}(o),u=c.x,p=c.y,d=o.hasOwnProperty("x"),f=o.hasOwnProperty("y"),m=_e,h=Te,g=window;if(l){var v=Ne(n);v===fe(n)&&(v=ye(n)),a===Te&&(h=je,p-=v.clientHeight-r.height,p*=s?1:-1),a===_e&&(m=ze,u-=v.clientWidth-r.width,u*=s?1:-1)}var y,b=Object.assign({position:i},l&&qe);return s?Object.assign({},b,((y={})[h]=f?"0":"",y[m]=d?"0":"",y.transform=(g.devicePixelRatio||1)<2?"translate("+u+"px, "+p+"px)":"translate3d("+u+"px, "+p+"px, 0)",y)):Object.assign({},b,((t={})[h]=f?p+"px":"",t[m]=d?u+"px":"",t.transform="",t))}var $e={left:"right",right:"left",bottom:"top",top:"bottom"};function Ye(e){return e.replace(/left|right|bottom|top/g,(function(e){return $e[e]}))}var Je={start:"end",end:"start"};function Xe(e){return e.replace(/start|end/g,(function(e){return Je[e]}))}function Ze(e){return parseFloat(e)||0}function Qe(e){var t=fe(e),n=function(e){var t=ge(e)?Ee(e):{};return{top:Ze(t.borderTopWidth),right:Ze(t.borderRightWidth),bottom:Ze(t.borderBottomWidth),left:Ze(t.borderLeftWidth)}}(e),r="html"===ve(e),a=be(e),o=e.clientWidth+n.right,i=e.clientHeight+n.bottom;return r&&t.innerHeight-e.clientHeight>50&&(i=t.innerHeight-n.bottom),{top:r?0:e.clientTop,right:e.clientLeft>n.left?n.right:r?t.innerWidth-o-a:e.offsetWidth-o,bottom:r?t.innerHeight-i:e.offsetHeight-i,left:r?a:e.clientLeft}}function et(e,t){var n=Boolean(t.getRootNode&&t.getRootNode().host);if(e.contains(t))return!0;if(n){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function nt(e,t){return"viewport"===t?tt(function(e){var t=fe(e),n=t.visualViewport,r=t.innerWidth,a=t.innerHeight;return n&&/iPhone|iPod|iPad/.test(navigator.platform)&&(r=n.width,a=n.height),{width:r,height:a,x:0,y:0}}(e)):ge(t)?de(t):tt(function(e){var t=fe(e),n=me(e),r=xe(ye(e),t);return r.height=Math.max(r.height,t.innerHeight),r.width=Math.max(r.width,t.innerWidth),r.x=-n.scrollLeft,r.y=-n.scrollTop,r}(ye(e)))}function rt(e,t,n){var r="clippingParents"===t?function(e){var t=Oe(e),n=["absolute","fixed"].indexOf(Ee(e).position)>=0&&ge(e)?Ne(e):e;return he(n)?t.filter((function(e){return he(e)&&et(e,n)})):[]}(e):[].concat(t),a=[].concat(r,[n]),o=a[0],i=a.reduce((function(t,n){var r=nt(e,n),a=Qe(ge(n)?n:ye(e));return t.top=Math.max(r.top+a.top,t.top),t.right=Math.min(r.right-a.right,t.right),t.bottom=Math.min(r.bottom-a.bottom,t.bottom),t.left=Math.max(r.left+a.left,t.left),t}),nt(e,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function at(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},e)}function ot(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function it(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=void 0===r?e.placement:r,o=n.boundary,i=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?"viewport":s,c=n.elementContext,u=void 0===c?"popper":c,p=n.altBoundary,d=void 0!==p&&p,f=n.padding,m=void 0===f?0:f,h=at("number"!=typeof m?m:ot(m,De)),g="popper"===u?"reference":"popper",v=e.elements.reference,y=e.rects.popper,b=e.elements[d?g:u],E=rt(he(b)?b:b.contextElement||ye(e.elements.popper),i,l),w=de(v),x=Ge({reference:w,element:y,strategy:"absolute",placement:a}),P=tt(Object.assign({},y,{},x)),C="popper"===u?P:w,O={top:E.top-C.top+h.top,bottom:C.bottom-E.bottom+h.bottom,left:E.left-C.left+h.left,right:C.right-E.right+h.right},k=e.modifiersData.offset;if("popper"===u&&k){var S=k[a];Object.keys(O).forEach((function(e){var t=[ze,je].indexOf(e)>=0?1:-1,n=[Te,je].indexOf(e)>=0?"y":"x";O[e]+=S[n]*t}))}return O}function st(e,t,n){return Math.max(e,Math.min(t,n))}function lt(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ct(e){return[Te,ze,je,_e].some((function(t){return e[t]>=0}))}var ut=We({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,o=void 0===a||a,i=r.resize,s=void 0===i||i,l=fe(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Le)})),s&&l.addEventListener("resize",n.update,Le),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Le)})),s&&l.removeEventListener("resize",n.update,Le)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ge({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=void 0===r||r,o=n.adaptive,i=void 0===o||o,s={placement:Ie(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,{},Ve(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,{},Ve(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},a=t.elements[e];ge(a)&&ve(a)&&(Object.assign(a.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],a=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});ge(r)&&ve(r)&&(Object.assign(r.style,o),Object.keys(a).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.offset,o=void 0===a?[0,0]:a,i=Re.reduce((function(e,n){return e[n]=function(e,t,n){var r=Ie(e),a=[_e,Te].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=o[0],s=o[1];return i=i||0,s=(s||0)*a,[_e,ze].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,o),e}),{}),s=i[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,p=n.rootBoundary,d=n.altBoundary,f=n.flipVariations,m=void 0===f||f,h=n.allowedAutoPlacements,g=t.options.placement,v=Ie(g),y=l||(v===g||!m?[Ye(g)]:function(e){if("auto"===Ie(e))return[];var t=Ye(e);return[Xe(e),t,Xe(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat("auto"===Ie(n)?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,a=n.boundary,o=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Re:l,u=Ue(r),p=(u?s?Me:Me.filter((function(e){return Ue(e)===u})):De).filter((function(e){return c.indexOf(e)>=0})).reduce((function(t,n){return t[n]=it(e,{placement:n,boundary:a,rootBoundary:o,padding:i})[Ie(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:p,padding:c,flipVariations:m,allowedAutoPlacements:h}):n)}),[]),E=t.rects.reference,w=t.rects.popper,x=new Map,P=!0,C=b[0],O=0;O<b.length;O++){var k=b[O],S=Ie(k),N="start"===Ue(k),T=[Te,je].indexOf(S)>=0,j=T?"width":"height",z=it(t,{placement:k,boundary:u,rootBoundary:p,altBoundary:d,padding:c}),_=T?N?ze:_e:N?je:Te;E[j]>w[j]&&(_=Ye(_));var D=Ye(_),M=[];if(o&&M.push(z[S]<=0),s&&M.push(z[_]<=0,z[D]<=0),M.every((function(e){return e}))){C=k,P=!1;break}x.set(k,M)}if(P)for(var R=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},F=m?3:1;F>0;F--){if("break"===R(F))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,o=void 0===a||a,i=n.altAxis,s=void 0!==i&&i,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,p=n.padding,d=n.tether,f=void 0===d||d,m=n.tetherOffset,h=void 0===m?0:m,g=it(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:u}),v=Ie(t.placement),y=Ue(t.placement),b=!y,E=Ke(v),w="x"===E?"y":"x",x=t.modifiersData.popperOffsets,P=t.rects.reference,C=t.rects.popper,O="function"==typeof h?h(Object.assign({},t.rects,{placement:t.placement})):h,k={x:0,y:0};if(x){if(o){var S="y"===E?Te:_e,N="y"===E?je:ze,T="y"===E?"height":"width",j=x[E],z=x[E]+g[S],_=x[E]-g[N],D=f?-C[T]/2:0,M="start"===y?P[T]:C[T],R="start"===y?-C[T]:-P[T],F=t.elements.arrow,A=f&&F?Pe(F):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=H[S],W=H[N],L=st(0,P[T],A[T]),I=b?P[T]/2-D-L-B-O:M-L-B-O,U=b?-P[T]/2+D+L+W+O:R+L+W+O,K=t.elements.arrow&&Ne(t.elements.arrow),G=K?"y"===E?K.clientTop||0:K.clientLeft||0:0,q=t.modifiersData.offset?t.modifiersData.offset[t.placement][E]:0,V=x[E]+I-q-G,$=x[E]+U-q,Y=st(f?Math.min(z,V):z,j,f?Math.max(_,$):_);x[E]=Y,k[E]=Y-j}if(s){var J="x"===E?Te:_e,X="x"===E?je:ze,Z=x[w],Q=st(Z+g[J],Z,Z-g[X]);x[w]=Q,k[w]=Q-Z}t.modifiersData[r]=k}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,a=n.elements.arrow,o=n.modifiersData.popperOffsets,i=Ie(n.placement),s=Ke(i),l=[_e,ze].indexOf(i)>=0?"height":"width";if(a&&o){var c=n.modifiersData[r+"#persistent"].padding,u=Pe(a),p="y"===s?Te:_e,d="y"===s?je:ze,f=n.rects.reference[l]+n.rects.reference[s]-o[s]-n.rects.popper[l],m=o[s]-n.rects.reference[s],h=Ne(a),g=h?"y"===s?h.clientHeight||0:h.clientWidth||0:0,v=f/2-m/2,y=c[p],b=g-u[l]-c[d],E=g/2-u[l]/2+v,w=st(y,E,b),x=s;n.modifiersData[r]=((t={})[x]=w,t.centerOffset=w-E,t)}},effect:function(e){var t=e.state,n=e.options,r=e.name,a=n.element,o=void 0===a?"[data-popper-arrow]":a,i=n.padding,s=void 0===i?0:i;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&et(t.elements.popper,o)&&(t.elements.arrow=o,t.modifiersData[r+"#persistent"]={padding:at("number"!=typeof s?s:ot(s,De))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,i=it(t,{elementContext:"reference"}),s=it(t,{altBoundary:!0}),l=lt(i,r),c=lt(s,a,o),u=ct(l),p=ct(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}}]}),pt=n(47),dt=n.n(pt),ft=[],mt=function(){},ht=function(){return Promise.resolve(null)},gt=[];function vt(e){var t=e.placement,n=void 0===t?"bottom":t,a=e.strategy,o=void 0===a?"absolute":a,i=e.modifiers,s=void 0===i?gt:i,l=e.referenceElement,c=e.onFirstUpdate,u=e.innerRef,p=e.children,d=r.useContext(te),f=r.useState(null),m=f[0],h=f[1],g=r.useState(null),v=g[0],y=g[1];r.useEffect((function(){le(u,m)}),[u,m]);var b=r.useMemo((function(){return{placement:n,strategy:o,onFirstUpdate:c,modifiers:[].concat(s,[{name:"arrow",enabled:null!=v,options:{element:v}}])}}),[n,o,c,s,v]),E=function(e,t,n){void 0===n&&(n={});var a=r.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ft},i=r.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"}},attributes:{}}),s=i[0],l=i[1],c=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);l({styles:ce(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ce(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),u=r.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return dt()(a.current,e)?a.current||e:(a.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),p=r.useRef();return ue((function(){p.current&&p.current.setOptions(u)}),[u]),ue((function(){if(null!=e&&null!=t){var r=(n.createPopper||ut)(e,t,u);return p.current=r,function(){r.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:s.styles,attributes:s.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}}(l||d,m,b),w=E.state,x=E.styles,P=E.forceUpdate,C=E.update,O=r.useMemo((function(){return{ref:h,style:x.popper,placement:w?w.placement:n,hasPopperEscaped:w&&w.modifiersData.hide?w.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:w&&w.modifiersData.hide?w.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:x.arrow,ref:y},forceUpdate:P||mt,update:C||ht}}),[h,y,n,w,x,C,P]);return ie(p)(O)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bt=!1,Et=a.a.createContext(null),wt=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var a,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a="exited",r.appearStatus="entering"):a="entered":a=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:a},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,yt(t,n),r.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var o=r.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=i.a.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},o.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context?this.context.isMounting:t,o=this.getTimeouts(),i=a?o.appear:o.enter;!t&&!r||bt?this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,a),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,a)}))}))})))},o.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!bt?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return a.a.createElement(Et.Provider,{value:null},n(e,r));var o=a.a.Children.only(n);return a.a.createElement(Et.Provider,{value:null},a.a.cloneElement(o,r))},r}(a.a.Component);function xt(){}wt.contextType=Et,wt.propTypes={},wt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xt,onEntering:xt,onEntered:xt,onExit:xt,onExiting:xt,onExited:xt},wt.UNMOUNTED=0,wt.EXITED=1,wt.ENTERING=2,wt.ENTERED=3,wt.EXITING=4;var Pt,Ct,Ot,kt=wt,St=n(6),Nt=(Pt=function(e,t){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Pt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Tt=function(e){function t(t){var n=e.call(this,t)||this,r=n.props,a=r.className,o=r.root,i=void 0===o?document.body:o;return n.node=document.createElement("div"),a&&n.node.classList.add(a),n.portalRoot=i,n.portalRoot.appendChild(n.node),n}return Nt(t,e),t.prototype.componentWillUnmount=function(){this.portalRoot.removeChild(this.node)},t.prototype.render=function(){return i.a.createPortal(this.props.children,this.node)},t}(r.PureComponent),jt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},zt=function(){return(zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},_t=Object(St.stylesFactory)((function(){return{defaultTransitionStyles:Object(ee.css)(Ct||(Ct=jt(["\n    transition: opacity 200ms linear;\n    opacity: 0;\n  "],["\n    transition: opacity 200ms linear;\n    opacity: 0;\n  "]))),tooltipContent:Object(ee.css)(Ot||(Ot=jt(["\n    overflow-wrap: break-word;\n  "],["\n    overflow-wrap: break-word;\n  "])))}})),Dt={exited:{opacity:0},entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0}},Mt=function(e){var t=e.show,n=e.placement,r=e.popperClassName,o=e.refClassName,i=e.content,s=e.children,l=e.renderContent,c=Object(ee.cx)("popper_ref",o),u=_t(),p=Object(ee.cx)("popper",r,u.defaultTransitionStyles);return a.a.createElement(re,null,a.a.createElement(pe,null,(function(e){var t=e.ref;return a.a.createElement("div",{className:c,ref:t},s)})),a.a.createElement(kt,{in:t,timeout:100,mountOnEnter:!0,unmountOnExit:!0},(function(e){return a.a.createElement(Tt,null,a.a.createElement(vt,{placement:n},(function(t){var n=t.ref,r=t.style,o=t.placement,s=t.arrowProps;return a.a.createElement("div",{ref:n,style:zt(zt({},r),Dt[e]),"data-placement":o,className:p},a.a.createElement("div",{className:"popper__background"},a.a.createElement("div",{className:u.tooltipContent},l(i)),a.a.createElement("div",{ref:s.ref,"data-placement":o,className:"popper__arrow"})))})))})))},Rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ft=function(){return(Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},At=function(){return(At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Bt=function(e){var t;return(t=function(t){function n(e){var n=t.call(this,e)||this;return n.showPopper=function(){n.setState({show:!0})},n.hidePopper=function(){n.setState({show:!1})},n.state={show:!1},n}return Rt(n,t),n.prototype.renderContent=function(e){if("function"==typeof e){var t=e;return a.a.createElement(t,null)}return e},n.prototype.render=function(){var t=this.state.show,n=this.props,r=n.placement,o=n.className;return a.a.createElement(e,Ft({},this.props,{showPopper:this.showPopper,hidePopper:this.hidePopper,renderContent:this.renderContent,placement:r,className:o,show:t}))},n}(a.a.Component)).defaultProps={placement:"auto"},t}((function(e){var t=e.hidePopper,n=e.showPopper,r=e.className,o=e.children,i=Ht(e,["hidePopper","showPopper","className","children"]);return a.a.createElement("div",{className:"popper__manager "+r,onMouseEnter:n,onMouseLeave:t},a.a.createElement(Mt,At({},i),o))})),Wt=Bt,Lt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),It=["#E24D42","#1F78C1","#BA43A9","#705DA0","#466803","#508642","#447EBC","#C15C17","#890F02","#757575","#0A437C","#6D1F62","#584477","#629E51","#2F4F4F","#BF1B00","#806EB7","#8a2eb8","#699e00","#000000","#3F6833","#2F575E","#99440A","#E0752D","#0E4AB4","#58140C","#052B51","#511749","#3F2B5B"],Ut=["#FF7368","#459EE7","#E069CF","#9683C6","#6C8E29","#76AC68","#6AA4E2","#E7823D","#AF3528","#9B9B9B","#3069A2","#934588","#7E6A9D","#88C477","#557575","#E54126","#A694DD","#B054DE","#8FC426","#262626","#658E59","#557D84","#BF6A30","#FF9B53","#3470DA","#7E3A32","#2B5177","#773D6F","#655181"];var Kt,Gt,qt,Vt,$t,Yt,Jt,Xt,Zt,Qt,en=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.onClick&&t.props.onClick(t.props.tag,e.ctrlKey,e.shiftKey)},t}return Lt(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.highlight,r=function(e){var t=function(e){for(var t=5381,n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n);return t}(e.toLowerCase());return{color:It[Math.abs(t%It.length)],borderColor:Ut[Math.abs(t%Ut.length)]}}(t.tag),o={background:r.color,borderColor:r.borderColor};return a.a.createElement(Wt,{placement:"bottom",content:"Click to add tag filter or Ctrl/Shift+click to remove"},a.a.createElement("span",{className:"label label-tag zbx-tag "+(n?"highlighted":""),style:o,onClick:this.handleClick},t.value?t.tag+": "+t.value:""+t.tag))},t}(r.PureComponent),tn=n(4),nn=n(3),rn=function(e){var t=e.status,n=e.className,r=Object(ee.cx)(n,"icon-gf",{"icon-gf-critical":"critical"===t||"problem"===t||"warning"===t},{"icon-gf-online":"online"===t||"ok"===t});return a.a.createElement("i",{className:r})},an=function(e){var t=e.icon,n=e.customClass,r=Object(ee.cx)(n,"fa-icon-container");return a.a.createElement("span",{className:r},a.a.createElement("i",{className:"fa fa-"+t}))},on=an,sn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ln=function(e){var t=e.icon,n=e.width,r=e.tooltip,o=e.className,i=e.children,s=e.onClick,l=Object(St.useTheme)(),c=cn(l),u=Object(ee.cx)("btn",c.button,Object(ee.css)(Kt||(Kt=sn(["width: ","rem"],["width: ","rem"])),n||3),o),p=a.a.createElement("button",{className:u,onClick:s},t&&a.a.createElement(an,{icon:t,customClass:c.icon}),i);return r&&(p=a.a.createElement(Bt,{placement:"bottom",content:r},p)),p},cn=Object(St.stylesFactory)((function(e){var t=e.type===u.GrafanaThemeType.Light?"#497dc0":"#005f81",n=e.type===u.GrafanaThemeType.Light?"#456ba4":"#354f77";return{button:Object(ee.css)(Gt||(Gt=sn(["\n      height: 2rem;\n      background-image: none;\n      background-color: ",";\n      border: 1px solid ",";\n      border-radius: 1px;\n      color: ",";\n\n      i {\n        vertical-align: middle;\n      }\n\n      &:hover {\n        background-color: ",";\n      }\n    "],["\n      height: 2rem;\n      background-image: none;\n      background-color: ",";\n      border: 1px solid ",";\n      border-radius: 1px;\n      color: ",";\n\n      i {\n        vertical-align: middle;\n      }\n\n      &:hover {\n        background-color: ",";\n      }\n    "])),t,e.palette.gray1,e.colors.text,n),icon:Object(ee.css)(qt||(qt=sn(["\n      i {\n        color: ",";\n      }\n    "],["\n      i {\n        color: ",";\n      }\n    "])),e.colors.text)}})),un=function(e){var t=e.className,n=e.onClick;return a.a.createElement(ln,{className:t,icon:"reply-all",tooltip:"Acknowledge problem",onClick:n})},pn=function(e){var t=e.problem,n=e.panelId,r=e.range;return a.a.createElement(ln,{icon:"compass",width:6,onClick:function(){return dn(t,n,r)}},"Explore")},dn=function(e,t,n){var r,a,o,i={};if(1===(null===(r=e.items)||void 0===r?void 0:r.length)&&1===(null===(a=e.hosts)||void 0===a?void 0:a.length)){var s=e.items[0],l=e.hosts[0],p=Object(tn.f)(s.name,s.key_);i={queryType:nn.g,group:{filter:"/.*/"},application:{filter:""},host:{filter:l.name},item:{filter:p}}}else{var d=null===(o=e.items)||void 0===o?void 0:o.map((function(e){return e.itemid})).join(",");i={queryType:nn.e,itemids:d}}var f={datasource:e.datasource,context:"explore",originPanelId:t,range:n.raw,queries:[i]},m=JSON.stringify(f),h=u.urlUtil.renderUrl("/explore",{left:m});c.locationService.push(h)},fn=function(e){var t=e.className,n=e.onClick;return a.a.createElement(ln,{className:t,icon:"terminal",tooltip:"Execute script",onClick:n})},mn=function(){return(mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},hn=a.a.createContext(c.config),gn=hn.Consumer,vn=function(e){var t=e.children;return a.a.createElement(gn,null,(function(e){return a.a.createElement(St.ThemeContext.Provider,{value:Object(u.createTheme)({colors:{mode:c.config.bootData.user.lightTheme?"light":"dark"}})},t)}))},yn=function(e){return function(e){return function(t){return a.a.createElement(hn.Provider,{value:c.config},a.a.createElement(e,mn({},t)))}}((function(t){return a.a.createElement(vn,null,a.a.createElement(e,mn({},t)))}))},bn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),En=function(e){function t(t){var n=e.call(this,t)||this;return n.modalRoot=document.body,n.modalNode=document.createElement("div"),n.showModal=function(e,t){n.setState({component:e,props:t})},n.hideModal=function(){n.modalRoot.removeChild(n.modalNode),n.setState({component:null,props:{}})},n.state={component:null,props:{}},n}return bn(t,e),t.prototype.renderModal=function(){var e=this.state,t=e.component,n=e.props;if(!t)return null;this.modalRoot.appendChild(this.modalNode);var r=a.a.createElement(yn(t),n);return i.a.createPortal(r,this.modalNode)},t.prototype.render=function(){var e=this.props.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement(e,{showModal:this.showModal,hideModal:this.hideModal}),this.renderModal())},t}(a.a.Component),wn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pn=[{value:0,label:"Not classified"},{value:1,label:"Information"},{value:2,label:"Warning"},{value:3,label:"Average"},{value:4,label:"High"},{value:5,label:"Disaster"}],Cn=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){n.setState({value:e.target.value,error:!1})},n.handleKeyPress=function(e){13===e.which||"Enter"===e.key||27!==e.which&&"Escape"!==e.key||n.dismiss()},n.handleBackdropClick=function(){n.dismiss()},n.onAcknowledgeToggle=function(){n.setState({acknowledge:!n.state.acknowledge,error:!1})},n.onChangeSeverityToggle=function(){n.setState({changeSeverity:!n.state.changeSeverity,error:!1})},n.onCloseProblemToggle=function(){n.setState({closeProblem:!n.state.closeProblem,error:!1})},n.onChangeSelectedSeverity=function(e){n.setState({selectedSeverity:e})},n.dismiss=function(){n.setState({value:"",error:!1,errorMessage:"",ackError:"",loading:!1}),n.props.onDismiss()},n.submit=function(){var e=n.state,t=e.acknowledge,r=e.changeSeverity,a=e.closeProblem,o=t||r||a;if(!n.state.value&&!o)return n.setState({error:!0,errorMessage:"Enter message text or select an action"});n.setState({ackError:"",loading:!0});var i={message:n.state.value},s=nn.o;n.state.acknowledge&&(s+=nn.n),n.state.changeSeverity&&(s+=nn.p,i.severity=n.state.selectedSeverity),n.state.closeProblem&&(s+=nn.q),i.action=s,n.props.onSubmit(i).then((function(){n.dismiss()})).catch((function(e){var t,r,a=(null===(t=e.data)||void 0===t?void 0:t.message)||(null===(r=e.data)||void 0===r?void 0:r.error)||e.data||e.statusText||"";n.setState({ackError:a,loading:!1})}))},n.state={value:"",error:!1,errorMessage:"",ackError:"",acknowledge:!1,closeProblem:!1,changeSeverity:!1,selectedSeverity:t.severity||0,loading:!1},n}return wn(t,e),t.prototype.renderActions=function(){var e=this.props.canClose;return[a.a.createElement(St.Checkbox,{css:"",key:"ack",label:"Acknowledge",value:this.state.acknowledge,onChange:this.onAcknowledgeToggle}),a.a.createElement(St.Checkbox,{css:"",key:"change-severity",label:"Change severity",description:"",value:this.state.changeSeverity,onChange:this.onChangeSeverityToggle}),this.state.changeSeverity&&a.a.createElement(St.RadioButtonGroup,{key:"severity",size:"sm",options:Pn,value:this.state.selectedSeverity,onChange:this.onChangeSelectedSeverity}),e&&a.a.createElement(St.Checkbox,{css:"",key:"close",label:"Close problem",disabled:!e,value:this.state.closeProblem,onChange:this.onCloseProblemToggle})].filter((function(e){return e}))},t.prototype.render=function(){var e=this.props.theme,t=On(e),n=Object(ee.cx)(t.modal),r=Object(ee.cx)(t.modalHeaderTitle),o=Object(ee.cx)("gf-form",t.inputGroup),i=Object(ee.cx)(this.state.error&&t.input),s=Object(ee.cx)("gf-form-hint-text",t.inputHint),l=Object(ee.cx)("gf-form-hint-text",t.inputError);return a.a.createElement(St.Modal,{isOpen:!0,onDismiss:this.dismiss,className:n,title:a.a.createElement("div",{className:r},this.state.loading?a.a.createElement(St.Spinner,{size:18}):a.a.createElement(an,{icon:"reply-all"}),a.a.createElement("span",{className:"p-l-1"},"Acknowledge Problem"))},a.a.createElement("div",{className:o},a.a.createElement("label",{className:"gf-form-hint"},a.a.createElement(St.TextArea,{className:i,css:"",type:"text",name:"message",placeholder:"Message",autoComplete:"off",autoFocus:!0,value:this.state.value,onChange:this.handleChange,onKeyDown:this.handleKeyPress}),a.a.createElement("small",{className:s},"Press Enter to submit"),this.state.error&&a.a.createElement("small",{className:l},this.state.errorMessage))),a.a.createElement("div",{className:"gf-form"},a.a.createElement(St.VerticalGroup,null,this.renderActions())),this.state.ackError&&a.a.createElement("div",{className:"gf-form ack-request-error"},a.a.createElement("span",{className:t.ackError},this.state.ackError)),a.a.createElement("div",{className:"gf-form-button-row text-center"},a.a.createElement(St.Button,{variant:"primary",onClick:this.submit},"Update"),a.a.createElement(St.Button,{variant:"secondary",onClick:this.dismiss},"Cancel")))},t.defaultProps={withBackdrop:!0},t}(r.PureComponent),On=Object(St.stylesFactory)((function(e){var t=e.palette.red;return{modal:Object(ee.css)(Vt||(Vt=xn(["\n      width: 500px;\n    "],["\n      width: 500px;\n    "]))),modalHeaderTitle:Object(ee.css)($t||($t=xn(["\n      font-size: ",";\n      padding-top: ",";\n      margin: 0 ",";\n      display: flex;\n    "],["\n      font-size: ",";\n      padding-top: ",";\n      margin: 0 ",";\n      display: flex;\n    "])),e.typography.heading.h3,e.spacing.sm,e.spacing.md),inputGroup:Object(ee.css)(Yt||(Yt=xn(["\n      margin-bottom: 16px;\n    "],["\n      margin-bottom: 16px;\n    "]))),input:Object(ee.css)(Jt||(Jt=xn(["\n      border-color: ",";\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";\n    "],["\n      border-color: ",";\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";\n    "])),t,e.colors.bg1,t),inputHint:Object(ee.css)(Xt||(Xt=xn(["\n      display: inherit;\n      float: right;\n      color: ",";\n    "],["\n      display: inherit;\n      float: right;\n      color: ",";\n    "])),e.colors.textWeak),inputError:Object(ee.css)(Zt||(Zt=xn(["\n      float: left;\n      color: ",";\n    "],["\n      float: left;\n      color: ",";\n    "])),t),ackError:Object(ee.css)(Qt||(Qt=xn(["\n      color: ",";\n    "],["\n      color: ",";\n    "])),t)}})),kn=Object(St.withTheme)(Cn);function Sn(e){var t=e.acknowledges;return a.a.createElement("div",{className:"problem-ack-list"},a.a.createElement("div",{className:"problem-ack-col problem-ack-time"},t.map((function(e){return a.a.createElement("span",{key:e.acknowledgeid,className:"problem-ack-time"},e.time)}))),a.a.createElement("div",{className:"problem-ack-col problem-ack-user"},t.map((function(e){return a.a.createElement("span",{key:e.acknowledgeid,className:"problem-ack-user"},e.user)}))),a.a.createElement("div",{className:"problem-ack-col problem-ack-message"},t.map((function(e){return a.a.createElement("span",{key:e.acknowledgeid,className:"problem-ack-message"},e.message)}))))}var Nn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tn=function(){return(Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},jn=Math.round(9.6),zn=function(e){function t(t){var n=e.call(this,t)||this;return n.setRootRef=function(e){n.rootRef=e;var t=e&&e.clientWidth||0;n.setState({width:t})},n.handlePointHighlight=function(e,t){var r,a=n.sortedEvents[e],o=n.getRegionToHighlight(e);void 0!==t&&(r=n.getEventDuration(e,t)),n.setState({highlightedEvent:a,showEventInfo:!0,highlightedRegion:o,eventInfo:{duration:r}})},n.handlePointUnHighlight=function(){n.setState({showEventInfo:!1,highlightedRegion:null})},n.handleAckHighlight=function(e,t){n.setState({showEventInfo:!0,eventInfo:{timestamp:Number(e.clock),message:e.message}})},n.handleAckUnHighlight=function(){n.setState({showEventInfo:!1})},n.showEventInfo=function(e){n.setState({highlightedEvent:e,showEventInfo:!0})},n.hideEventInfo=function(){n.setState({showEventInfo:!1})},n.getRegionToHighlight=function(e){return"1"===n.sortedEvents[e].value?e+1:e},n.state={width:0,highlightedEvent:null,highlightedRegion:null,showEventInfo:!1,eventInfo:{}},n}return Nn(t,e),t.prototype.componentDidUpdate=function(e,t){if(this.rootRef&&t.width!==this.rootRef.clientWidth){var n=this.rootRef.clientWidth;this.setState({width:n})}},t.prototype.getEventDuration=function(e,t){return 1e3*Math.abs(Number(this.sortedEvents[e].clock)-Number(this.sortedEvents[t].clock))},t.prototype.sortEvents=function(){var e=l.a.sortBy(this.props.events,(function(e){return Number(e.clock)}));return this.sortedEvents=e,e},t.prototype.getEventAcks=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var a=r[n];if(a.acknowledges)for(var o=0,i=a.acknowledges;o<i.length;o++){var s=i[o];t.push(s)}}return l.a.sortBy(t,(function(e){return Number(e.clock)}))},t.prototype.render=function(){if(!this.rootRef)return a.a.createElement("div",{className:"event-timeline",ref:this.setRootRef});var e=this.props,t=e.timeRange,n=e.eventPointSize,r=e.eventRegionHeight,o=this.sortEvents(),i=this.getEventAcks(o),s=this.state.width+n,l=Math.round(2.5*n),c=s-n,u=Math.round(n/2),p=r/2,d=Math.round(l/2-n/2);return a.a.createElement("div",{className:"event-timeline",ref:this.setRootRef,style:{transform:"translate("+-u+"px, 0)"}},a.a.createElement(Dn,{className:"timeline-info-container",event:this.state.highlightedEvent,eventInfo:this.state.eventInfo,show:this.state.showEventInfo,left:u}),a.a.createElement("svg",{className:"event-timeline-canvas",viewBox:"0 0 "+s+" "+l},a.a.createElement("defs",null,a.a.createElement(_n,null)),a.a.createElement("g",{className:"event-timeline-group",transform:"translate("+u+", "+d+")"},a.a.createElement("g",{className:"event-timeline-regions",filter:"url(#boxShadow)"},a.a.createElement(Mn,{events:o,timeRange:t,width:c,height:r,highlightedRegion:this.state.highlightedRegion})),a.a.createElement("g",{className:"timeline-acknowledges",transform:"translate(0, "+p+")"},a.a.createElement(An,{acknowledges:i,timeRange:t,width:c,size:n,onHighlight:this.handleAckHighlight,onUnHighlight:this.handleAckUnHighlight})),a.a.createElement("g",{className:"timeline-points",transform:"translate(0, "+p+")"},a.a.createElement(Rn,{events:o,timeRange:t,width:c,pointSize:n,onPointHighlight:this.handlePointHighlight,onPointUnHighlight:this.handlePointUnHighlight})))))},t.defaultProps={okColor:"rgb(56, 189, 113)",problemColor:"rgb(215, 0, 0)",eventRegionHeight:jn,eventPointSize:16},t}(r.PureComponent);function _n(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("filter",{id:"dropShadow",x:"-50%",y:"-50%",width:"200%",height:"200%"},a.a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"2"}),a.a.createElement("feOffset",{dx:"1",dy:"1"}),a.a.createElement("feMerge",null,a.a.createElement("feMergeNode",null),a.a.createElement("feMergeNode",{in:"SourceGraphic"}))),a.a.createElement("filter",{id:"boxShadow",x:"-50%",y:"-50%",width:"200%",height:"200%"},a.a.createElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"1"}),a.a.createElement("feComponentTransfer",null,a.a.createElement("feFuncA",{type:"linear",slope:"0.7"})),a.a.createElement("feOffset",{dx:"1",dy:"1"}),a.a.createElement("feMerge",null,a.a.createElement("feMergeNode",null),a.a.createElement("feMergeNode",{in:"SourceGraphic"}))),a.a.createElement("filter",{id:"glowShadow",x:"-50%",y:"-50%",width:"200%",height:"200%"},a.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"2"}),a.a.createElement("feMerge",null,a.a.createElement("feMergeNode",null),a.a.createElement("feMergeNode",{in:"SourceGraphic"}))),a.a.createElement("filter",{id:"timelinePointBlur",x:"-50%",y:"-50%",width:"200%",height:"200%"},a.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"2",result:"blurOut"})))}var Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nn(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.event,o=n.eventInfo,i=n.show,s=n.className,l=n.left;if(r){var c=Z()(1e3*Number(r.clock)).format("HH:mm:ss");e=[a.a.createElement("span",{key:"ts",className:"event-timestamp"},a.a.createElement("span",{className:"event-timestamp-label"},"Time: "),a.a.createElement("span",{className:"event-timestamp-value"},c))]}if(o&&o.duration){var u=o.duration,p=Z.a.utc(u).format("HH:mm:ss");t=a.a.createElement("span",{key:"duration",className:"event-timestamp"},a.a.createElement("span",{className:"event-timestamp-label"},"Duration: "),a.a.createElement("span",{className:"event-timestamp-value"},p))}if(o&&o.timestamp){c=Z()(1e3*o.timestamp).format("HH:mm:ss");e=[a.a.createElement("span",{key:"ts",className:"event-timestamp"},a.a.createElement("span",{className:"event-timestamp-label"},"Time: "),a.a.createElement("span",{className:"event-timestamp-value"},c))]}var d={left:l};return i||(d.opacity=0),a.a.createElement("div",{className:s,style:d},a.a.createElement("div",null,e),a.a.createElement("div",null,t),o&&o.message&&a.a.createElement("div",null,a.a.createElement("span",{key:"duration",className:"event-timestamp"},a.a.createElement("span",{className:"event-timestamp-label"},"Message: "),a.a.createElement("span",{className:"event-timestamp-value"},o.message))))},t.defaultProps={left:0,className:"",show:!1},t}(r.PureComponent),Mn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nn(t,e),t.prototype.render=function(){var e,t=this.props,n=t.events,r=t.timeRange,o=t.width,i=t.height,s=t.highlightedRegion,l=r.timeFrom,c=r.timeTo,u=c-l;if(n.length){var p=((n.length?Number(n[0].clock):c)-l)/u,d=Math.round(p*o),f=0===s,m="problem-event-region "+("problem-event--"+("1"!==n[0].value?"problem":"ok"))+" "+(f?"highlighted":""),h={x:0,y:0,width:d,height:i};e=a.a.createElement("rect",Tn({key:"0",className:m},h))}return[e,n.map((function(e,t){var r=Number(e.clock),p=((t<n.length-1?Number(n[t+1].clock):c)-r)/u,d=Math.round(p*o),f=Math.round((r-l)/u*o),m=s&&s-1===t,h="problem-event-region "+("problem-event--"+("1"===e.value?"problem":"ok"))+" "+(m?"highlighted":""),g={x:f,y:0,width:d,height:i};return a.a.createElement("rect",Tn({key:e.eventid+"-"+t,className:h},g))}))]},t.defaultProps={highlightedRegion:null},t}(r.PureComponent),Rn=function(e){function t(t){var n=e.call(this,t)||this;return n.bringToFront=function(e,t){void 0===t&&(t=!1);var r=n.props.events.map((function(e,t){return t}));r=Bn(r,e);var a=t?e:null;n.setState({order:r,highlighted:a})},n.highlightPoint=function(e){return function(){var t=[e];if(n.props.onPointHighlight)if(n.props.highlightRegion){var r=2===(t=n.getRegionEvents(e)).length?t[1]:void 0;n.props.onPointHighlight(e,r)}else n.props.onPointHighlight(e);n.bringToFront(t,!0)}},n.unHighlightPoint=function(e){return function(){n.props.onPointUnHighlight&&n.props.onPointUnHighlight();var e=n.props.events.map((function(e,t){return t}));n.setState({order:e,highlighted:[]})}},n.state={order:[],highlighted:[]},n}return Nn(t,e),t.prototype.getRegionEvents=function(e){var t=this.props.events,n=t[e];if("1"===n.value&&e<t.length)for(var r=e;r<t.length;r++){if("0"===t[r].value)return[e,r]}else if("0"===n.value&&e>0){var a=null;for(r=e-1;r>=0&&"1"===t[r].value;r--)a=r;if(null!==a)return[e,a]}return[e]},t.prototype.render=function(){var e=this,t=this.props,n=t.events,r=t.timeRange,o=t.width,i=t.pointSize,s=r.timeFrom,l=r.timeTo-s,c=i/2,u=n.map((function(t,n){var r=Number(t.clock),i=Math.round((r-s)/l*o-c),u="problem-event-item problem-event--"+("1"===t.value?"problem":"ok"),p=-1!==e.state.highlighted.indexOf(n);return a.a.createElement(Fn,{key:t.eventid+"-"+n,className:u,x:i,r:c,highlighted:p,onPointHighlight:e.highlightPoint(n),onPointUnHighlight:e.unHighlightPoint(n)})}));return this.state.order.length?this.state.order.map((function(e){return u[e]})):u},t.defaultProps={highlightRegion:!0},t}(r.PureComponent),Fn=function(e){function t(t){var n=e.call(this,t)||this;return n.handleMouseOver=function(){n.props.onPointHighlight&&n.props.onPointHighlight()},n.handleMouseLeave=function(){n.props.onPointUnHighlight&&n.props.onPointUnHighlight()},n.state={highlighted:!1},n}return Nn(t,e),t.prototype.componentDidUpdate=function(e){e.highlighted!==this.props.highlighted&&this.setState({highlighted:this.props.highlighted})},t.prototype.render=function(){var e=this.props.x,t=this.state.highlighted?Math.round(1.1*this.props.r):this.props.r,n=e+this.props.r,r=Math.round(.6*t),o=(this.props.className||"")+" "+(this.state.highlighted?"highlighted":"");return a.a.createElement("g",{className:o,transform:"translate("+n+", 0)",filter:"url(#dropShadow)",onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave},a.a.createElement("circle",{cx:0,cy:0,r:t,className:"point-border"}),a.a.createElement("circle",{cx:0,cy:0,r:r,className:"point-core"}))},t}(r.PureComponent),An=function(e){function t(t){var n=e.call(this,t)||this;return n.handleHighlight=function(e){return function(){if(n.props.onHighlight){var t=n.props.acknowledges[e];n.props.onHighlight(t,e)}n.bringToFront(e,!0)}},n.handleUnHighlight=function(){n.props.onUnHighlight&&n.props.onUnHighlight();var e=n.props.acknowledges.map((function(e,t){return t}));n.setState({order:e,highlighted:null})},n.bringToFront=function(e,t){void 0===t&&(t=!1);var r=n.props.acknowledges.map((function(e,t){return t}));r=Bn(r,[e]);var a=t?e:null;n.setState({order:r,highlighted:a})},n.state={order:[],highlighted:null},n}return Nn(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.acknowledges,r=t.timeRange,o=t.width,i=t.size,s=r.timeFrom,l=r.timeTo-s,c=i/2,u=n.map((function(t,n){var r=Number(t.clock),i=Math.round((r-s)/l*o-c),u=e.state.highlighted===n;return a.a.createElement(Hn,{key:t.eventid+"-"+n,x:i,r:c,highlighted:u,onHighlight:e.handleHighlight(n),onUnHighlight:e.handleUnHighlight})}));return this.state.order.length?this.state.order.map((function(e){return u[e]})):u},t}(r.PureComponent),Hn=function(e){function t(t){var n=e.call(this,t)||this;return n.handleHighlight=function(){n.props.onHighlight&&n.props.onHighlight()},n.handleUnHighlight=function(){n.props.onUnHighlight&&n.props.onUnHighlight()},n.state={highlighted:!1},n}return Nn(t,e),t.prototype.componentDidUpdate=function(e){e.highlighted!==this.props.highlighted&&this.setState({highlighted:this.props.highlighted})},t.prototype.render=function(){var e=this.props.x,t=this.state.highlighted?Math.round(1.1*this.props.r):this.props.r,n=e+this.props.r,r=Math.round(.6*t),o="problem-event-ack "+(this.state.highlighted?"highlighted":"");return a.a.createElement("g",{className:o,transform:"translate("+n+", 0)",filter:"url(#dropShadow)",onMouseOver:this.handleHighlight,onMouseLeave:this.handleUnHighlight},a.a.createElement("circle",{cx:0,cy:0,r:t,className:"point-border"}),a.a.createElement("circle",{cx:0,cy:0,r:r,className:"point-core"}))},t}(r.PureComponent);function Bn(e,t){var n=l.a.pullAt(e,t);return n.reverse(),e.push.apply(e,n),e}var Wn,Ln,In,Un,Kn,Gn,qn,Vn,$n,Yn,Jn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Zn=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},Qn=function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},er=function(e){function t(t){var n=e.call(this,t)||this;return n.onChangeSelectedScript=function(e){var t=n.scripts.find((function(t){return e.value===t.scriptid}));n.setState({selectedScript:e,script:t,errorMessage:"",loading:!1,result:""})},n.dismiss=function(){n.setState({selectedScript:null,error:!1,errorMessage:"",selectError:"",loading:!1}),n.props.onDismiss()},n.submit=function(){var e=n.state.selectedScript;if(!e)return n.setState({selectError:"Select a script to execute."});n.setState({errorMessage:"",loading:!0,result:""});var t={scriptid:e.value};n.props.onSubmit(t).then((function(e){var t=n.formatResult((null==e?void 0:e.value)||"");"success"===(null==e?void 0:e.response)?n.setState({result:t,loading:!1}):n.setState({error:!0,errorMessage:t,loading:!1})})).catch((function(e){var t,r,a=(null===(t=e.data)||void 0===t?void 0:t.message)||(null===(r=e.data)||void 0===r?void 0:r.error)||e.data||e.statusText||"";a=n.formatResult(a),n.setState({error:!0,loading:!1,errorMessage:a})}))},n.formatResult=function(e){var t=e.split("\n").map((function(e,t){return a.a.createElement("p",{key:t},e)}));return a.a.createElement(a.a.Fragment,null,t)},n.state={error:!1,errorMessage:"",selectError:"",selectedScript:null,result:"",loading:!1,scriptOptions:[],script:null},n}return Jn(t,e),t.prototype.componentDidMount=function(){return Zn(this,void 0,void 0,(function(){var e,t,n,r;return Qn(this,(function(a){switch(a.label){case 0:return[4,this.props.getScripts()];case 1:return e=a.sent(),this.scripts=e,t=e.map((function(e){return{value:e.scriptid,label:e.name,description:e.description||e.command}})),n=(null==t?void 0:t.length)?t[0]:null,r=e.find((function(e){return n.value===e.scriptid})),this.setState({scriptOptions:t,selectedScript:n,script:r}),[2]}}))}))},t.prototype.render=function(){var e=this.props.theme,t=this.state,n=t.scriptOptions,r=t.selectedScript,o=t.script,i=t.result,s=t.selectError,l=t.errorMessage,c=t.error,u=tr(e),p=Object(ee.cx)(u.modal),d=Object(ee.cx)(u.modalHeaderTitle),f=Object(ee.cx)("gf-form-hint-text",u.inputError),m=Object(ee.cx)("gf-form",u.scriptCommandContainer),h=Object(ee.cx)("gf-form-hint-text",u.scriptCommand);return a.a.createElement(St.Modal,{isOpen:!0,onDismiss:this.dismiss,className:p,title:a.a.createElement("div",{className:d},this.state.loading?a.a.createElement(St.Spinner,{size:18}):a.a.createElement(an,{icon:"terminal"}),a.a.createElement("span",{className:"p-l-1"},"Execute script"))},a.a.createElement("div",{className:"gf-form"},a.a.createElement("label",{className:"gf-form-hint"},a.a.createElement(St.Select,{options:n,value:r,onChange:this.onChangeSelectedScript}),s&&a.a.createElement("small",{className:f},s))),a.a.createElement("div",{className:m},o&&a.a.createElement("small",{className:h},o.command)),a.a.createElement("div",{className:u.resultContainer},i&&a.a.createElement("span",{className:u.execResult},i),c&&a.a.createElement("span",{className:u.execError},l)),a.a.createElement("div",{className:"gf-form-button-row text-center"},a.a.createElement(St.Button,{variant:"primary",onClick:this.submit},"Execute"),a.a.createElement(St.Button,{variant:"secondary",onClick:this.dismiss},"Cancel")))},t}(r.PureComponent),tr=Object(St.stylesFactory)((function(e){var t=e.palette.red;return{modal:Object(ee.css)(Wn||(Wn=Xn(["\n      width: 600px;\n    "],["\n      width: 600px;\n    "]))),modalHeaderTitle:Object(ee.css)(Ln||(Ln=Xn(["\n      font-size: ",";\n      padding-top: ",";\n      margin: 0 ",";\n      display: flex;\n    "],["\n      font-size: ",";\n      padding-top: ",";\n      margin: 0 ",";\n      display: flex;\n    "])),e.typography.heading.h3,e.spacing.sm,e.spacing.md),input:Object(ee.css)(In||(In=Xn(["\n      border-color: ",";\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";\n    "],["\n      border-color: ",";\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ",", 0 0 0px 4px ",";\n    "])),t,e.colors.bg1,t),scriptCommandContainer:Object(ee.css)(Un||(Un=Xn(["\n      margin-bottom: ",";\n    "],["\n      margin-bottom: ",";\n    "])),e.spacing.md),scriptCommand:Object(ee.css)(Kn||(Kn=Xn(["\n      color: ",";\n      text-align: left;\n      font-family: ",";\n    "],["\n      color: ",";\n      text-align: left;\n      font-family: ",";\n    "])),e.colors.textWeak,e.typography.fontFamily.monospace),inputHint:Object(ee.css)(Gn||(Gn=Xn(["\n      display: inherit;\n      float: right;\n      color: ",";\n    "],["\n      display: inherit;\n      float: right;\n      color: ",";\n    "])),e.colors.textWeak),inputError:Object(ee.css)(qn||(qn=Xn(["\n      float: left;\n      color: ",";\n    "],["\n      float: left;\n      color: ",";\n    "])),t),resultContainer:Object(ee.css)(Vn||(Vn=Xn(["\n      min-height: 50px;\n      font-family: ",";\n      font-size: ",";\n      p {\n        font-size: ",";\n        margin-bottom: 0px;\n      }\n    "],["\n      min-height: 50px;\n      font-family: ",";\n      font-size: ",";\n      p {\n        font-size: ",";\n        margin-bottom: 0px;\n      }\n    "])),e.typography.fontFamily.monospace,e.typography.size.sm,e.typography.size.sm),execResult:Object(ee.css)($n||($n=Xn(["\n    "],["\n    "]))),execError:Object(ee.css)(Yn||(Yn=Xn(["\n      color: ",";\n    "],["\n      color: ",";\n    "])),t)}})),nr=Object(St.withTheme)(er);function rr(e){var t=e.problem,n=e.alerts,r=e.className,o="1"===t.type,i=t.url&&""!==t.url,s=t.maintenance,l="1"===t.manual_close,c=t.error&&""!==t.error,u="1"===t.state,p="1"===t.correlation_mode,d=n&&0!==n.length,f=d?n[0].message:"";return a.a.createElement("div",{className:"problem-statusbar "+(r||"")},a.a.createElement(ar,{icon:"wrench",fired:s,tooltip:"Host maintenance"}),a.a.createElement(ar,{icon:"globe",fired:i,link:i&&t.url,tooltip:"External link"}),a.a.createElement(ar,{icon:"bullhorn",fired:o,tooltip:"Trigger generates multiple problem events"}),a.a.createElement(ar,{icon:"tag",fired:p,tooltip:"OK event closes problems matched to tag: "+t.correlation_tag}),a.a.createElement(ar,{icon:"circle-o-notch",fired:d,tooltip:f}),a.a.createElement(ar,{icon:"question-circle",fired:u,tooltip:"Current trigger state is unknown"}),a.a.createElement(ar,{icon:"warning",fired:c,tooltip:t.error}),a.a.createElement(ar,{icon:"window-close-o",fired:l,tooltip:"Manual close problem"}))}function ar(e){var t=e.fired,n=e.icon,r=e.link,o=e.tooltip,i=a.a.createElement("div",{className:"problem-statusbar-item "+(t?"fired":"muted")},a.a.createElement(on,{icon:n}));return o&&t&&(i=a.a.createElement(Wt,{placement:"bottom",content:o},i)),r?a.a.createElement("a",{href:r,target:"_blank"},i):i}var or=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ir=function(e){function t(t){var n=e.call(this,t)||this;return n.handleTagClick=function(e,t,r){n.props.onTagClick&&n.props.onTagClick(e,n.props.original.datasource,t,r)},n.ackProblem=function(e){var t=n.props.original;return n.props.onProblemAck(t,e)},n.getScripts=function(){var e=n.props.original;return n.props.getScripts(e)},n.onExecuteScript=function(e){var t=n.props.original;return n.props.onExecuteScript(t,e.scriptid)},n.state={events:[],alerts:[],show:!1},n}return or(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeline&&this.fetchProblemEvents(),this.fetchProblemAlerts(),requestAnimationFrame((function(){e.setState({show:!0})}))},t.prototype.fetchProblemEvents=function(){var e=this,t=this.props.original;this.props.getProblemEvents(t).then((function(t){e.setState({events:t})}))},t.prototype.fetchProblemAlerts=function(){var e=this,t=this.props.original;this.props.getProblemAlerts(t).then((function(t){e.setState({alerts:t})}))},t.prototype.render=function(){var e=this,t=this.props.original,n=this.state.alerts,r=this.props,o=r.rootWidth,i=r.panelId,s=r.range,l=this.state.show?"show":"",c=o>1200,u=o<800||t.acknowledges&&c&&o<1400,p=Z.a.unix(t.timestamp).fromNow(!0),d=t.acknowledges&&0!==t.acknowledges.length,f=Number(t.severity);return a.a.createElement("div",{className:"problem-details-container "+l},a.a.createElement("div",{className:"problem-details-body"},a.a.createElement("div",{className:"problem-details"},a.a.createElement("div",{className:"problem-details-head"},a.a.createElement("div",{className:"problem-actions-left"},a.a.createElement(pn,{problem:t,panelId:i,range:s})),t.showAckButton&&a.a.createElement("div",{className:"problem-actions"},a.a.createElement(En,null,(function(t){var n=t.showModal,r=t.hideModal;return a.a.createElement(fn,{className:"problem-action-button",onClick:function(){n(nr,{getScripts:e.getScripts,onSubmit:e.onExecuteScript,onDismiss:r})}})})),a.a.createElement(En,null,(function(n){var r=n.showModal,o=n.hideModal;return a.a.createElement(un,{className:"problem-action-button",onClick:function(){r(kn,{canClose:"1"===t.manual_close,severity:f,onSubmit:e.ackProblem,onDismiss:o})}})}))),a.a.createElement(rr,{problem:t,alerts:n,className:u&&"compact"})),a.a.createElement("div",{className:"problem-details-row"},a.a.createElement("div",{className:"problem-value-container"},a.a.createElement("div",{className:"problem-age"},a.a.createElement(an,{icon:"clock-o"}),a.a.createElement("span",null,p)),t.items&&a.a.createElement(cr,{items:t.items}))),t.comments&&a.a.createElement("div",{className:"problem-description-row"},a.a.createElement("div",{className:"problem-description"},a.a.createElement(Bt,{placement:"right",content:t.comments},a.a.createElement("span",{className:"description-label"},"Description: ")),a.a.createElement("span",null,t.comments))),t.tags&&t.tags.length>0&&a.a.createElement("div",{className:"problem-tags"},t.tags&&t.tags.map((function(n){return a.a.createElement(en,{key:n.tag+n.value,tag:n,highlight:n.tag===t.correlation_tag,onClick:e.handleTagClick})}))),this.props.showTimeline&&this.state.events.length>0&&a.a.createElement(zn,{events:this.state.events,timeRange:this.props.timeRange}),d&&!c&&a.a.createElement("div",{className:"problem-ack-container"},a.a.createElement("h6",null,a.a.createElement(an,{icon:"reply-all"})," Acknowledges"),a.a.createElement(Sn,{acknowledges:t.acknowledges}))),d&&c&&a.a.createElement("div",{className:"problem-details-middle"},a.a.createElement("div",{className:"problem-ack-container"},a.a.createElement("h6",null,a.a.createElement(an,{icon:"reply-all"})," Acknowledges"),a.a.createElement(Sn,{acknowledges:t.acknowledges}))),a.a.createElement("div",{className:"problem-details-right"},a.a.createElement("div",{className:"problem-details-right-item"},a.a.createElement(an,{icon:"database"}),a.a.createElement("span",null,t.datasource)),t.proxy&&a.a.createElement("div",{className:"problem-details-right-item"},a.a.createElement(an,{icon:"cloud"}),a.a.createElement("span",null,t.proxy)),t.groups&&a.a.createElement(ur,{groups:t.groups,className:"problem-details-right-item"}),t.hosts&&a.a.createElement(pr,{hosts:t.hosts,className:"problem-details-right-item"}))))},t}(r.PureComponent);function sr(e){var t=e.item,n=e.showName,r=tn.f(t.name,t.key_);return a.a.createElement("div",{className:"problem-item"},a.a.createElement(an,{icon:"thermometer-three-quarters"}),n&&a.a.createElement("span",{className:"problem-item-name"},t.name,": "),a.a.createElement(Bt,{placement:"top-start",content:function(){return a.a.createElement(a.a.Fragment,null,r,a.a.createElement("br",null),t.lastvalue)}},a.a.createElement("span",{className:"problem-item-value"},t.lastvalue)))}var lr,cr=function(e){var t=e.items;return a.a.createElement("div",{className:"problem-items-row"},t.length>1?t.map((function(e){return a.a.createElement(sr,{item:e,key:e.itemid,showName:!0})})):a.a.createElement(sr,{item:t[0]}))},ur=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return or(t,e),t.prototype.render=function(){var e=this;return this.props.groups.map((function(t){return a.a.createElement("div",{className:e.props.className||"",key:t.groupid},a.a.createElement(an,{icon:"folder"}),a.a.createElement("span",null,t.name))}))},t}(r.PureComponent),pr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return or(t,e),t.prototype.render=function(){var e=this;return this.props.hosts.map((function(t){return a.a.createElement("div",{className:e.props.className||"",key:t.hostid},a.a.createElement(an,{icon:"server"}),a.a.createElement("span",null,t.name))}))},t}(r.PureComponent),dr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},fr=Object(St.stylesFactory)((function(e){return{countLabel:Object(ee.css)(lr||(lr=dr(["\n      font-size: ",";\n    "],["\n      font-size: ",";\n    "])),e.typography.size.sm)}})),mr=function(e){var t,n,r=e.original,o=Object(St.useTheme)(),i=fr(o);return a.a.createElement("div",null,(null===(t=r.acknowledges)||void 0===t?void 0:t.length)>0&&a.a.createElement(a.a.Fragment,null,a.a.createElement(an,{icon:"comments"}),a.a.createElement("span",{className:i.countLabel}," (",null===(n=r.acknowledges)||void 0===n?void 0:n.length,")")))},hr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gr=function(){return(gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vr=function(e){function t(t){var n=e.call(this,t)||this;return n.setRootRef=function(e){n.rootRef=e},n.handleProblemAck=function(e,t){return n.props.onProblemAck(e,t)},n.onExecuteScript=function(e,t){},n.handlePageSizeChange=function(e,t){n.props.onPageSizeChange&&n.props.onPageSizeChange(e,t)},n.handleResizedChange=function(e,t){n.props.onColumnResize&&n.props.onColumnResize(e)},n.handleExpandedChange=function(e,t){var r=n.props,a=r.problems,o=r.pageSize,i=n.state.page,s={};for(var l in e){var c=o*i+Number(l);if(e[l]&&c<a.length){var u=a[c].eventid;u&&(s[u]=!0)}}var p=gr({},n.state.expanded);p[i]=e;var d=gr({},n.state.expandedProblems);d[i]=s,n.setState({expanded:p,expandedProblems:d})},n.handleTagClick=function(e,t,r,a){n.props.onTagClick&&n.props.onTagClick(e,t,r,a)},n.getExpandedPage=function(e){for(var t=n.props,r=t.problems,a=t.pageSize,o=n.state.expandedProblems[e]||{},i={},s=a*e,l=Math.min(s+a,r.length),c=s;c<l;c++){o[r[c].eventid]&&(i[c-s]={})}return i},n.state={expanded:{},expandedProblems:{},page:0},n}return hr(t,e),t.prototype.buildColumns=function(){for(var e=this,t=[],n=this.props.panelOptions,r=n.highlightNewEvents&&n.highlightNewerThan,o=0,i=[{Header:"Host",id:"host",show:n.hostField,Cell:function(e){return a.a.createElement(yr,{name:e.original.host,maintenance:e.original.maintenance})}},{Header:"Host (Technical Name)",id:"hostTechName",show:n.hostTechNameField,Cell:function(e){return a.a.createElement(yr,{name:e.original.hostTechName,maintenance:e.original.maintenance})}},{Header:"Host Groups",accessor:"groups",show:n.hostGroups,Cell:Er},{Header:"Proxy",accessor:"proxy",show:n.hostProxy},{Header:"Severity",show:n.severityField,className:"problem-severity",width:120,accessor:function(e){return e.priority},id:"severity",Cell:function(e){return function(e,t,n,r,o){void 0===o&&(o=br);var i,s,c=e.original,u=Number(c.severity);s=l.a.find(t,(function(e){return e.priority===u})),c.severity&&"1"===c.value&&(s=l.a.find(t,(function(e){return e.priority===u})));i="0"===c.value?o:s.color,n&&"1"===c.acknowledged&&(i=r);return a.a.createElement("div",{className:"severity-cell",style:{background:i}},s.severity)}(e,n.triggerSeverity,n.markAckEvents,n.ackEventColor,n.okEventColor)}},{Header:"",id:"statusIcon",show:n.statusIcon,className:"problem-status-icon",width:50,accessor:"value",Cell:function(e){return function(e,t){var n="0"===e.value?"ok":"problem",r=!1;t&&(r=Object(Q.c)(e.original,t));var o=v()("zbx-problem-status-icon",{"problem-status--new":r},{"zbx-problem":"1"===e.value},{"zbx-ok":"0"===e.value});return a.a.createElement(rn,{status:n,className:o})}(e,r)}},{Header:"Status",accessor:"value",show:n.statusField,width:100,Cell:function(e){return function(e,t){var n="0"===e.value?"RESOLVED":"PROBLEM",r="0"===e.value?br:"rgb(215, 0, 0)",o=!1;t&&(o=Object(Q.c)(e.original,t));return a.a.createElement("span",{className:o?"problem-status--new":"",style:{color:r}},n)}(e,r)}},{Header:"Problem",accessor:"description",minWidth:200,Cell:wr},{Header:"Ack",id:"ack",show:n.ackField,width:70,Cell:function(e){return a.a.createElement(mr,gr({},e))}},{Header:"Tags",accessor:"tags",show:n.showTags,className:"problem-tags",Cell:function(t){return a.a.createElement(Pr,gr({},t,{onTagClick:e.handleTagClick}))}},{Header:"Age",className:"problem-age",width:100,show:n.ageField,accessor:"timestamp",id:"age",Cell:xr},{Header:"Time",className:"last-change",width:150,accessor:"timestamp",id:"lastchange",Cell:function(e){return function(e,t){var n=e.original,r=Z.a.unix(n.timestamp),o=t||"DD MMM YYYY HH:mm:ss",i=r.format(o);return a.a.createElement("span",null,i)}(e,n.customLastChangeFormat&&n.lastChangeFormat)}},{Header:"",className:"custom-expander",width:60,expander:!0,Expander:Cr}];o<i.length;o++){var s=i[o];(s.show||void 0===s.show)&&(delete s.show,t.push(s))}return t},t.prototype.render=function(){var e,t=this,n=this.buildColumns();this.rootWidth=this.rootRef&&this.rootRef.clientWidth;var r=this.props,o=r.pageSize,i=r.fontSize,s=r.panelOptions,c=v()("panel-problems",((e={})["font-size--"+i]=i,e)),u=[5,10,20,25,50,100];return o&&(u.push(o),u=l.a.uniq(l.a.sortBy(u))),a.a.createElement("div",{className:c,ref:this.setRootRef},a.a.createElement(J,{data:this.props.problems,columns:n,defaultPageSize:10,pageSize:o,pageSizeOptions:u,resized:s.resizedColumns,minRows:0,loading:this.props.loading,noDataText:"No problems found",SubComponent:function(e){return a.a.createElement(ir,gr({},e,{rootWidth:t.rootWidth,timeRange:t.props.timeRange,range:t.props.range,showTimeline:s.problemTimeline,panelId:t.props.panelId,getProblemEvents:t.props.getProblemEvents,getProblemAlerts:t.props.getProblemAlerts,getScripts:t.props.getScripts,onProblemAck:t.handleProblemAck,onExecuteScript:t.props.onExecuteScript,onTagClick:t.handleTagClick,subRows:!1}))},expanded:this.getExpandedPage(this.state.page),onExpandedChange:this.handleExpandedChange,onPageChange:function(e){return t.setState({page:e})},onPageSizeChange:this.handlePageSizeChange,onResizedChange:this.handleResizedChange}))},t}(r.PureComponent),yr=function(e){var t=e.name,n=e.maintenance;return a.a.createElement("div",null,a.a.createElement("span",{style:{paddingRight:"0.4rem"}},t),n&&a.a.createElement(an,{customClass:"fired",icon:"wrench"}))};var br="rgb(56, 189, 113)";function Er(e){var t="";return e.value&&e.value.length&&(t=e.value.map((function(e){return e.name})).join(", ")),a.a.createElement("span",null,t)}function wr(e){e.original.comments;return a.a.createElement("div",null,a.a.createElement("span",{className:"problem-description"},e.value))}function xr(e){var t=e.original,n=Z.a.unix(t.timestamp).fromNow(!0);return a.a.createElement("span",null,n)}var Pr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTagClick=function(e,n,r){t.props.onTagClick&&t.props.onTagClick(e,t.props.original.datasource,n,r)},t}return hr(t,e),t.prototype.render=function(){var e=this;return[(this.props.value||[]).map((function(t){return a.a.createElement(en,{key:t.tag+t.value,tag:t,onClick:e.handleTagClick})}))]},t}(r.PureComponent);function Cr(e){return a.a.createElement("span",{className:e.isExpanded?"expanded":""},a.a.createElement("i",{className:"fa fa-info-circle"}))}var Or,kr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.onClick(e)},t}return kr(t,e),t.prototype.render=function(){var e=this.props.problem,t=e.acknowledges&&e.acknowledges.map((function(e){return a.a.createElement("tr",{key:e.acknowledgeid},a.a.createElement("td",null,e.time),a.a.createElement("td",null,e.user),a.a.createElement("td",null,e.message))}));return a.a.createElement("div",{className:"ack-tooltip"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"ack-time"},"Time"),a.a.createElement("th",{className:"ack-user"},"User"),a.a.createElement("th",{className:"ack-comments"},"Comments"))),a.a.createElement("tbody",null,t)),e.showAckButton&&a.a.createElement("div",{className:"ack-add-button"},a.a.createElement("button",{id:"add-acknowledge-btn",className:"btn btn-mini btn-inverse gf-form-button",onClick:this.handleClick},a.a.createElement("i",{className:"fa fa-plus"}))))},t}(r.PureComponent),Nr=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Tr=function(e){var t=e.problem,n=e.color,r=e.blink,o=e.highlightBackground,i=Number(t.severity),s="1"===t.value&&i>=2?"critical":"online",l=Object(ee.cx)("icon-gf",r&&"zabbix-trigger--blinked"),c=Object(ee.cx)("alert-rule-item__icon",!o&&Object(ee.css)(Or||(Or=Nr(["color: ",""],["color: ",""])),n));return a.a.createElement("div",{className:c},a.a.createElement(rn,{status:s,className:l}))},jr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTagClick=function(e,n,r){t.props.onTagClick&&t.props.onTagClick(e,t.props.problem.datasource,n,r)},t.ackProblem=function(e){var n=t.props.problem;return t.props.onProblemAck(n,e)},t}return jr(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.problem,o=n.panelOptions,i=o.targets&&o.targets.length>1,s=v()("alert-rule-item","zbx-trigger-card",{"zbx-trigger-highlighted":o.highlightBackground}),c=v()("alert-rule-item__text",{"zbx-description--newline":o.descriptionAtNewLine}),u=Number(r.severity);e=l.a.find(o.triggerSeverity,(function(e){return e.priority===u})),r.severity&&(e=l.a.find(o.triggerSeverity,(function(e){return e.priority===u})));var p=Object(Q.a)(r.timestamp,o.customLastChangeFormat&&o.lastChangeFormat),d=Z.a.unix(r.timestamp).fromNow(!0),f=!1;o.highlightNewerThan&&(f=Object(Q.c)(r,o.highlightNewerThan));var m,h=o.highlightNewEvents&&f;m="0"===r.value?o.okEventColor:o.markAckEvents&&"1"===r.acknowledged?o.ackEventColor:e.color;var g={};return o.highlightBackground&&(g.backgroundColor=m),a.a.createElement("li",{className:s,style:g},a.a.createElement(Tr,{problem:r,color:m,highlightBackground:o.highlightBackground,blink:h}),a.a.createElement("div",{className:"alert-rule-item__body"},a.a.createElement("div",{className:"alert-rule-item__header"},a.a.createElement("div",{className:"alert-rule-item__name"},a.a.createElement("span",{className:"zabbix-trigger-name"},r.description),(o.hostField||o.hostTechNameField)&&a.a.createElement(_r,{problem:r,panelOptions:o}),o.hostGroups&&a.a.createElement(Dr,{problem:r,panelOptions:o}),o.showTags&&a.a.createElement("span",{className:"zbx-trigger-tags"},r.tags&&r.tags.map((function(e){return a.a.createElement(en,{key:e.tag+e.value,tag:e,highlight:e.tag===r.correlation_tag,onClick:t.handleTagClick})})))),a.a.createElement("div",{className:c},o.statusField&&a.a.createElement(Mr,{problem:r,blink:h}),o.severityField&&a.a.createElement(Rr,{severityDesc:e,blink:h,highlightBackground:o.highlightBackground}),a.a.createElement("span",{className:"alert-rule-item__time"},o.ageField&&"for "+d),o.descriptionField&&!o.descriptionAtNewLine&&a.a.createElement("span",{className:"zbx-description",dangerouslySetInnerHTML:{__html:r.comments}})),o.descriptionField&&o.descriptionAtNewLine&&a.a.createElement("div",{className:"alert-rule-item__text zbx-description--newline"},a.a.createElement("span",{className:"alert-rule-item__info zbx-description",dangerouslySetInnerHTML:{__html:r.comments}})))),i&&a.a.createElement("div",{className:"alert-rule-item__time zabbix-trigger-source"},a.a.createElement("span",null,a.a.createElement("i",{className:"fa fa-database"}),r.datasource)),a.a.createElement("div",{className:"alert-rule-item__time zbx-trigger-lastchange"},a.a.createElement("span",null,p||"last change unknown"),a.a.createElement("div",{className:"trigger-info-block zbx-status-icons"},r.url&&a.a.createElement("a",{href:r.url,target:"_blank"},a.a.createElement("i",{className:"fa fa-external-link"})),"1"===r.state&&a.a.createElement(Bt,{placement:"bottom",content:r.error},a.a.createElement("span",null,a.a.createElement("i",{className:"fa fa-question-circle"}))),r.eventid&&a.a.createElement(En,null,(function(e){var n=e.showModal,o=e.hideModal;return a.a.createElement(Fr,{problem:r,onClick:function(){n(kn,{canClose:"1"===r.manual_close,severity:u,onSubmit:t.ackProblem,onDismiss:o})}})})))))},t}(r.PureComponent);function _r(e){var t=e.problem,n=e.panelOptions,r="";return n.hostField&&n.hostTechNameField?r=t.host+" ("+t.hostTechName+")":(n.hostField||n.hostTechNameField)&&(r=n.hostField?t.host:t.hostTechName),n.hostProxy&&t.proxy&&(r=t.proxy+": "+r),a.a.createElement("span",{className:"zabbix-hostname"},t.maintenance&&a.a.createElement("i",{className:"fa fa-wrench zbx-maintenance-icon"}),r)}function Dr(e){var t=e.problem,n="";e.panelOptions.hostGroups&&(n+="[ "+l.a.map(t.groups,"name").join(", ")+" ]");return a.a.createElement("span",{className:"zabbix-hostname"},n)}function Mr(e){var t=e.problem,n=e.okColor,r=e.problemColor,o=e.blink,i="0"===t.value?"RESOLVED":"PROBLEM",s=(t.value,v()("zbx-trigger-state",{"alert-state-critical":"1"===t.value},{"alert-state-ok":"0"===t.value},{"zabbix-trigger--blinked":o}));return a.a.createElement("span",{className:s},i)}function Rr(e){var t=e.severityDesc,n=e.highlightBackground,r=e.blink,o=v()("zbx-trigger-severity",{"zabbix-trigger--blinked":r}),i={};return n||(i.color=t.color),a.a.createElement("span",{className:o,style:i},t.severity)}var Fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){t.props.onClick(e)},t.renderTooltipContent=function(){return a.a.createElement(Sr,{problem:t.props.problem,onClick:t.handleClick})},t}return jr(t,e),t.prototype.render=function(){var e=this.props.problem,t=null;return e.acknowledges&&e.acknowledges.length?t=a.a.createElement(Bt,{placement:"bottom",popperClassName:"ack-tooltip",content:this.renderTooltipContent},a.a.createElement("span",null,a.a.createElement("i",{className:"fa fa-comments"}))):e.showAckButton&&(t=a.a.createElement(Bt,{placement:"bottom",content:"Acknowledge problem"},a.a.createElement("span",{role:"button",onClick:this.handleClick},a.a.createElement("i",{className:"fa fa-comments-o"})))),t},t}(r.PureComponent),Ar=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=function(e){function t(t){var n=e.call(this,t)||this;return n.handlePageChange=function(e){var t=n.getCurrentProblems(e);n.setState({page:e,currentProblems:t})},n.handleTagClick=function(e,t,r,a){n.props.onTagClick&&n.props.onTagClick(e,t,r,a)},n.handleProblemAck=function(e,t){return n.props.onProblemAck(e,t)},n.state={page:0,currentProblems:n.getCurrentProblems(0)},n}return Ar(t,e),t.prototype.getCurrentProblems=function(e){var t=this.props,n=t.pageSize,r=t.problems,a=n*e,o=Math.min(n*(e+1),r.length);return this.props.problems.slice(a,o)},t.prototype.render=function(){var e,t=this,n=this.props,r=n.problems,o=n.panelOptions,i=this.getCurrentProblems(this.state.page),s=parseInt(o.fontSize.slice(0,o.fontSize.length-1),10);s=s&&100!==s?s:null;var l=v()("alert-rule-list",((e={})["font-size--"+s]=s,e));return a.a.createElement("div",{className:"triggers-panel-container",key:"alertListContainer"},a.a.createElement("section",{className:"card-section card-list-layout-list"},a.a.createElement("ol",{className:l},i.map((function(e){return a.a.createElement(zr,{key:e.triggerid+"-"+e.eventid+"-"+e.datasource,problem:e,panelOptions:o,onTagClick:t.handleTagClick,onProblemAck:t.handleProblemAck})})))),a.a.createElement("div",{className:"triggers-panel-footer",key:"alertListFooter"},a.a.createElement(Br,{itemsLength:r.length,pageSize:this.props.pageSize,pageIndex:this.state.page,onPageChange:this.handlePageChange})))},t}(r.PureComponent),Br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePageChange=function(e){return function(){t.props.onPageChange(e)}},t}return Ar(t,e),t.prototype.render=function(){var e=this.props,t=e.itemsLength,n=e.pageIndex,r=e.pageSize,o=Math.ceil(t/r);if(1===o)return a.a.createElement("ul",null);for(var i=Math.max(n-3,0),s=Math.min(o,i+9),l=[],c=i;c<s;c++){var u=v()("triggers-panel-page-link","pointer",{active:c===n}),p=c+1,d=a.a.createElement("li",{key:p.toString()},a.a.createElement("a",{className:u,onClick:this.handlePageChange(c)},p));l.push(d)}return a.a.createElement("ul",null,l)},t}(r.PureComponent),Wr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lr=[{priority:0,severity:"Not classified",color:"rgb(108, 108, 108)",show:!0},{priority:1,severity:"Information",color:"rgb(120, 158, 183)",show:!0},{priority:2,severity:"Warning",color:"rgb(175, 180, 36)",show:!0},{priority:3,severity:"Average",color:"rgb(255, 137, 30)",show:!0},{priority:4,severity:"High",color:"rgb(255, 101, 72)",show:!0},{priority:5,severity:"Disaster",color:"rgb(215, 0, 0)",show:!0}],Ir={schemaVersion:h.a,targets:[{}],hostField:!0,hostTechNameField:!1,hostProxy:!1,hostGroups:!1,showTags:!0,statusField:!0,statusIcon:!1,severityField:!0,ackField:!0,ageField:!1,descriptionField:!0,descriptionAtNewLine:!1,sortProblems:"lastchange",limit:null,layout:"table",fontSize:"100%",pageSize:10,problemTimeline:!0,highlightBackground:!1,highlightNewEvents:!1,highlightNewerThan:"1h",customLastChangeFormat:!1,lastChangeFormat:"",resizedColumns:[],triggerSeverity:Lr,okEventColor:"rgb(56, 189, 113)",ackEventColor:"rgb(56, 219, 156)",markAckEvents:!1},Ur={0:"OK",1:"PROBLEM"},Kr=function(e){function t(t,n,r){var a=e.call(this,t,n)||this;return a.scope=t,a.$timeout=r,a.useDataFrames=!0,a.triggerStatusMap=Ur,a.defaultTimeFormat="DD MMM YYYY HH:mm:ss",a.pageIndex=0,a.range={},a.renderData=[],a.panel=Object(h.b)(a.panel),l.a.defaultsDeep(a.panel,l.a.cloneDeep(Ir)),a.events.on("data-frames-received",a.onDataFramesReceived.bind(a)),a.events.on(u.PanelEvents.dataSnapshotLoad,a.onDataSnapshotLoad.bind(a)),a.events.on(u.PanelEvents.editModeInitialized,a.onInitEditMode.bind(a)),a}return t.$inject=["$scope","$injector","$timeout"],Wr(t,e),t.prototype.onInitEditMode=function(){this.panel.schemaVersion=h.a,this.addEditorTab("Options",m)},t.prototype.onDataFramesReceived=function(e){this.range=this.timeSrv.timeRange();var t=[];if(e&&e.length)for(var n=0,r=e;n<r.length;n++){var a=r[n];try{var o=a.fields[0].values;o.toArray?t.push(o.toArray()):o.length>0&&t.push(o)}catch(e){return console.log(e),Promise.reject(e)}}return this.loading=!1,t=l.a.flatten(t),this.problems=t,this.renderProblems(t)},t.prototype.onDataSnapshotLoad=function(e){return this.onDataFramesReceived(e)},t.prototype.reRenderProblems=function(){this.problems&&this.renderProblems(this.problems)},t.prototype.setPanelError=function(e,t){void 0===t&&(t="Request Error"),this.inspector={error:e},this.error=e.message||t,e.data&&(e.data.message&&(this.error=e.data.message),e.data.error&&(this.error=e.data.error)),console.log("Panel data error:",e)},t.prototype.renderProblems=function(t){var n=this,r=l.a.cloneDeep(t);return r=l.a.map(r,this.formatTrigger.bind(this)),r=this.filterProblems(r),r=this.sortTriggers(r),this.renderData=r,this.$timeout((function(){return e.prototype.render.call(n,r)}))},t.prototype.filterProblems=function(e){var t=this,n=l.a.cloneDeep(e);return"unacknowledged"===this.panel.showTriggers?n=l.a.filter(n,(function(e){return!(e.acknowledges&&e.acknowledges.length)})):"acknowledged"===this.panel.showTriggers&&(n=l.a.filter(n,(function(e){return e.acknowledges&&e.acknowledges.length}))),n=l.a.filter(n,(function(e){return e.severity?t.panel.triggerSeverity[e.severity].show:t.panel.triggerSeverity[e.priority].show}))},t.prototype.sortTriggers=function(e){return"priority"===this.panel.sortProblems?e=l.a.orderBy(e,["severity","timestamp","eventid"],["desc","desc","desc"]):"lastchange"===this.panel.sortProblems&&(e=l.a.orderBy(e,["timestamp","severity","eventid"],["desc","desc","desc"])),e},t.prototype.formatTrigger=function(e){var t=l.a.cloneDeep(e);if(t.hosts&&t.hosts.length){var n=t.hosts[0];t.host=n.name,t.hostTechName=n.host,n.proxy&&(t.proxy=n.proxy)}return t.tags&&0===t.tags.length&&(t.tags=null),t.comments&&(t.comments=t.comments.replace("\n","<br>")),t.lastchangeUnix=Number(t.lastchange),t},t.prototype.parseTags=function(e){if(!e)return[];var t=l.a.map(e.split(","),(function(e){return e.trim()}));return t=l.a.map(t,(function(e){var t=e.split(":");return{tag:t[0].trim(),value:t[1].trim()}}))},t.prototype.tagsToString=function(e){return l.a.map(e,(function(e){return e.tag+":"+e.value})).join(", ")},t.prototype.addTagFilter=function(e,t){for(var n=0,r=this.panel.targets;n<r.length;n++){var a=r[n];if(a.datasource===t||this.panel.datasource===t){var o=a.tags.filter,i=this.parseTags(o),s={tag:e.tag,value:e.value};i.push(s),i=l.a.uniqWith(i,l.a.isEqual);var c=this.tagsToString(i);a.tags.filter=c}}this.refresh()},t.prototype.removeTagFilter=function(e,t){for(var n=function(t){return t.tag===e.tag&&t.value===e.value},r=0,a=this.panel.targets;r<a.length;r++){var o=a[r];if(o.datasource===t||this.panel.datasource===t){var i=o.tags.filter,s=this.parseTags(i);l.a.remove(s,n),s=l.a.uniqWith(s,l.a.isEqual);var c=this.tagsToString(s);o.tags.filter=c}}this.refresh()},t.prototype.getProblemEvents=function(e){var t=[e.triggerid],n=Math.ceil(p.parse(this.range.from)/1e3),r=Math.ceil(p.parse(this.range.to)/1e3);return Object(c.getDataSourceSrv)().get(e.datasource).then((function(e){return e.zabbix.getEvents(t,n,r,[0,1],100)}))},t.prototype.getProblemAlerts=function(e){if(!e.eventid)return Promise.resolve([]);var t=[e.eventid];return Object(c.getDataSourceSrv)().get(e.datasource).then((function(e){return e.zabbix.getEventAlerts(t)}))},t.prototype.getProblemScripts=function(e){var t,n=(null===(t=e.hosts)||void 0===t?void 0:t.length)?e.hosts[0].hostid:null;return Object(c.getDataSourceSrv)().get(e.datasource).then((function(e){return e.zabbix.getScripts([n])}))},t.prototype.getAlertIconClassBySeverity=function(e){var t="icon-gf-online";return e.priority>=2&&(t="icon-gf-critical"),t},t.prototype.resetResizedColumns=function(){this.panel.resizedColumns=[],this.render()},t.prototype.acknowledgeProblem=function(e,t,n,r){var a=this,o=e.eventid,i=this.contextSrv.user.name+" (Grafana): "+t;return Object(c.getDataSourceSrv)().get(e.datasource).then((function(e){var t=a.contextSrv.isEditor||a.contextSrv.isGrafanaAdmin;return e.disableReadOnlyUsersAck&&!t?Promise.reject({message:"You have no permissions to acknowledge events."}):o?e.zabbix.acknowledgeEvent(o,i,n,r):Promise.reject({message:"Trigger has no events. Nothing to acknowledge."})})).then(this.refresh.bind(this)).catch((function(e){return a.setPanelError(e),Promise.reject(e)}))},t.prototype.executeScript=function(e,t){var n,r=(null===(n=e.hosts)||void 0===n?void 0:n.length)?e.hosts[0].hostid:null;return Object(c.getDataSourceSrv)().get(e.datasource).then((function(e){return e.zabbix.executeScript(r,t)}))},t.prototype.handlePageSizeChange=function(e,t){var n=this;this.panel.pageSize=e,this.pageIndex=t,this.scope.$apply((function(){n.render()}))},t.prototype.handleColumnResize=function(e){var t=this;this.panel.resizedColumns=e,this.scope.$apply((function(){t.render()}))},t.prototype.link=function(e,t,n,r){var o=this,s=r.panel;r.events.on(u.PanelEvents.render,(function(e){(function(e){var n=Math.ceil(p.parse(r.range.from)/1e3),o=Math.ceil(p.parse(r.range.to)/1e3),l=parseInt(s.fontSize.slice(0,s.fontSize.length-1),10),c=l&&100!==l?l:null,u=s.pageSize||10,d=r.loading&&(!e||!e.length),f={};for(var m in Ir)f[m]=r.panel[m];var h,g={problems:e,panelOptions:f,timeRange:{timeFrom:n,timeTo:o},range:r.range,loading:d,pageSize:u,fontSize:c,panelId:r.panel.id,getProblemEvents:r.getProblemEvents.bind(r),getProblemAlerts:r.getProblemAlerts.bind(r),getScripts:r.getProblemScripts.bind(r),onPageSizeChange:r.handlePageSizeChange.bind(r),onColumnResize:r.handleColumnResize.bind(r),onProblemAck:function(e,t){var n=t.message,a=t.action,o=t.severity;return r.acknowledgeProblem(e,n,a,o)},onExecuteScript:r.executeScript.bind(r),onTagClick:function(e,t,n,a){n||a?r.removeTagFilter(e,t):r.addTagFilter(e,t)}};h="list"===s.layout?a.a.createElement(Hr,g):a.a.createElement(vr,g);var v=t.find(".panel-content");v&&v.length?i.a.render(h,v[0]):i.a.render(h,t[0])})(e=e||o.renderData),r.renderingCompleted()}))},t}(d.MetricsPanelCtrl);Kr.templateUrl="public/plugins/alexanderzobnin-zabbix-app/panel-triggers/partials/module.html",n.d(t,"PanelCtrl",(function(){return Kr})),Object(d.loadPluginCss)({dark:"plugins/alexanderzobnin-zabbix-app/css/grafana-zabbix.dark.css",light:"plugins/alexanderzobnin-zabbix-app/css/grafana-zabbix.light.css"})},8:function(e,t,n){"use strict";var r,a;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),function(e){e.Group="group",e.Host="host",e.Application="application",e.ItemTag="itemTag",e.Item="item",e.ItemValues="itemValues"}(r||(r={})),function(e){e.Problems="problems",e.Recent="recent",e.History="history"}(a||(a={}))},9:function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()}})}));
//# sourceMappingURL=module.js.map